/* esm.sh - esbuild bundle(ajv@8.6.1) es2020 production */
var rc=Object.create;var Xr=Object.defineProperty;var nc=Object.getOwnPropertyDescriptor;var sc=Object.getOwnPropertyNames;var ac=Object.getPrototypeOf,oc=Object.prototype.hasOwnProperty;var ic=t=>Xr(t,"__esModule",{value:!0});var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var cc=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of sc(e))!oc.call(t,n)&&n!=="default"&&Xr(t,n,{get:()=>e[n],enumerable:!(r=nc(e,n))||r.enumerable});return t},Ws=t=>cc(ic(Xr(t!=null?rc(ac(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Lt=b(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.regexpCode=U.getProperty=U.safeStringify=U.stringify=U.strConcat=U.addCodeArg=U.str=U._=U.nil=U._Code=U.Name=U.IDENTIFIER=U._CodeOrName=void 0;var hr=class{};U._CodeOrName=hr;U.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var wt=class extends hr{constructor(e){super();if(!U.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};U.Name=wt;var je=class extends hr{constructor(e){super();this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof wt&&(r[n.str]=(r[n.str]||0)+1),r),{})}};U._Code=je;U.nil=new je("");function Qs(t,...e){let r=[t[0]],n=0;for(;n<e.length;)Zr(r,e[n]),r.push(t[++n]);return new je(r)}U._=Qs;var Yr=new je("+");function Xs(t,...e){let r=[zt(t[0])],n=0;for(;n<e.length;)r.push(Yr),Zr(r,e[n]),r.push(Yr,zt(t[++n]));return uc(r),new je(r)}U.str=Xs;function Zr(t,e){e instanceof je?t.push(...e._items):e instanceof wt?t.push(e):t.push(fc(e))}U.addCodeArg=Zr;function uc(t){let e=1;for(;e<t.length-1;){if(t[e]===Yr){let r=lc(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function lc(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof wt||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof wt))return`"${t}${e.slice(1)}`}function dc(t,e){return e.emptyStr()?t:t.emptyStr()?e:Xs`${t}${e}`}U.strConcat=dc;function fc(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:zt(Array.isArray(t)?t.join(","):t)}function hc(t){return new je(zt(t))}U.stringify=hc;function zt(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}U.safeStringify=zt;function pc(t){return typeof t=="string"&&U.IDENTIFIER.test(t)?new je(`.${t}`):Qs`[${t}]`}U.getProperty=pc;function mc(t){return new je(t.toString())}U.regexpCode=mc});var nn=b(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.ValueScope=ie.ValueScopeName=ie.Scope=ie.varKinds=ie.UsedValueState=void 0;var le=Lt(),Ys=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`);this.value=e.value}},en;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(en=ie.UsedValueState||(ie.UsedValueState={}));ie.varKinds={const:new le.Name("const"),let:new le.Name("let"),var:new le.Name("var")};var tn=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof le.Name?e:this.name(e)}name(e){return new le.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ie.Scope=tn;var rn=class extends le.Name{constructor(e,r){super(r);this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=le._`.${new le.Name(r)}[${n}]`}};ie.ValueScopeName=rn;var yc=le._`\n`,Zs=class extends tn{constructor(e){super(e);this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?yc:le.nil}}get(){return this._scope}name(e){return new rn(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:a}=s,o=(n=r.key)!==null&&n!==void 0?n:r.ref,c=this._values[a];if(c){let h=c.get(o);if(h)return h}else c=this._values[a]=new Map;c.set(o,s);let d=this._scope[a]||(this._scope[a]=[]),f=d.length;return d[f]=r.ref,s.setValue(r,{property:a,itemIndex:f}),s}getValue(e,r){let n=this._values[e];if(!!n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return le._`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(e,r,n={},s){let a=le.nil;for(let o in e){let c=e[o];if(!c)continue;let d=n[o]=n[o]||new Map;c.forEach(f=>{if(d.has(f))return;d.set(f,en.Started);let h=r(f);if(h){let y=this.opts.es5?ie.varKinds.var:ie.varKinds.const;a=le._`${a}${y} ${f} = ${h};${this.opts._n}`}else if(h=s==null?void 0:s(f))a=le._`${a}${h}${this.opts._n}`;else throw new Ys(f);d.set(f,en.Completed)})}return a}};ie.ValueScope=Zs});var j=b(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.or=R.and=R.not=R.CodeGen=R.operators=R.varKinds=R.ValueScopeName=R.ValueScope=R.Scope=R.Name=R.regexpCode=R.stringify=R.getProperty=R.nil=R.strConcat=R.str=R._=void 0;var q=Lt(),we=nn(),xe=Lt();Object.defineProperty(R,"_",{enumerable:!0,get:function(){return xe._}});Object.defineProperty(R,"str",{enumerable:!0,get:function(){return xe.str}});Object.defineProperty(R,"strConcat",{enumerable:!0,get:function(){return xe.strConcat}});Object.defineProperty(R,"nil",{enumerable:!0,get:function(){return xe.nil}});Object.defineProperty(R,"getProperty",{enumerable:!0,get:function(){return xe.getProperty}});Object.defineProperty(R,"stringify",{enumerable:!0,get:function(){return xe.stringify}});Object.defineProperty(R,"regexpCode",{enumerable:!0,get:function(){return xe.regexpCode}});Object.defineProperty(R,"Name",{enumerable:!0,get:function(){return xe.Name}});var pr=nn();Object.defineProperty(R,"Scope",{enumerable:!0,get:function(){return pr.Scope}});Object.defineProperty(R,"ValueScope",{enumerable:!0,get:function(){return pr.ValueScope}});Object.defineProperty(R,"ValueScopeName",{enumerable:!0,get:function(){return pr.ValueScopeName}});Object.defineProperty(R,"varKinds",{enumerable:!0,get:function(){return pr.varKinds}});R.operators={GT:new q._Code(">"),GTE:new q._Code(">="),LT:new q._Code("<"),LTE:new q._Code("<="),EQ:new q._Code("==="),NEQ:new q._Code("!=="),NOT:new q._Code("!"),OR:new q._Code("||"),AND:new q._Code("&&"),ADD:new q._Code("+")};var He=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},ea=class extends He{constructor(e,r,n){super();this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?we.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(e,r){if(!!e[this.name.str])return this.rhs&&(this.rhs=St(this.rhs,e,r)),this}get names(){return this.rhs instanceof q._CodeOrName?this.rhs.names:{}}},sn=class extends He{constructor(e,r,n){super();this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof q.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=St(this.rhs,e,r),this}get names(){let e=this.lhs instanceof q.Name?{}:{...this.lhs.names};return $r(e,this.rhs)}},ta=class extends sn{constructor(e,r,n,s){super(e,n,s);this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},ra=class extends He{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},na=class extends He{constructor(e){super();this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},sa=class extends He{constructor(e){super();this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},aa=class extends He{constructor(e){super();this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=St(this.code,e,r),this}get names(){return this.code instanceof q._CodeOrName?this.code.names:{}}},mr=class extends He{constructor(e=[]){super();this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,s=n.length;for(;s--;){let a=n[s];a.optimizeNames(e,r)||(vc(e,a.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>nt(e,r.names),{})}},Ge=class extends mr{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},oa=class extends mr{},Kt=class extends Ge{};Kt.kind="else";var qe=class extends Ge{constructor(e,r){super(r);this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Kt(n):n}if(r)return e===!1?r instanceof qe?r:r.nodes:this.nodes.length?this:new qe(da(e),r instanceof qe?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=St(this.condition,e,r),this}get names(){let e=super.names;return $r(e,this.condition),this.else&&nt(e,this.else.names),e}};qe.kind="if";var Et=class extends Ge{};Et.kind="for";var ia=class extends Et{constructor(e){super();this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iteration=St(this.iteration,e,r),this}get names(){return nt(super.names,this.iteration.names)}},ca=class extends Et{constructor(e,r,n,s){super();this.varKind=e,this.name=r,this.from=n,this.to=s}render(e){let r=e.es5?we.varKinds.var:this.varKind,{name:n,from:s,to:a}=this;return`for(${r} ${n}=${s}; ${n}<${a}; ${n}++)`+super.render(e)}get names(){let e=$r(super.names,this.from);return $r(e,this.to)}},an=class extends Et{constructor(e,r,n,s){super();this.loop=e,this.varKind=r,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iterable=St(this.iterable,e,r),this}get names(){return nt(super.names,this.iterable.names)}},yr=class extends Ge{constructor(e,r,n){super();this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};yr.kind="func";var vr=class extends mr{render(e){return"return "+super.render(e)}};vr.kind="return";var ua=class extends Ge{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,s;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(s=this.finally)===null||s===void 0||s.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&nt(e,this.catch.names),this.finally&&nt(e,this.finally.names),e}},gr=class extends Ge{constructor(e){super();this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};gr.kind="catch";var _r=class extends Ge{render(e){return"finally"+super.render(e)}};_r.kind="finally";var la=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new we.Scope({parent:e}),this._nodes=[new oa]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,s){let a=this._scope.toName(r);return n!==void 0&&s&&(this._constants[a.str]=n),this._leafNode(new ea(e,a,n)),a}const(e,r,n){return this._def(we.varKinds.const,e,r,n)}let(e,r,n){return this._def(we.varKinds.let,e,r,n)}var(e,r,n){return this._def(we.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new sn(e,r,n))}add(e,r){return this._leafNode(new ta(e,R.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==q.nil&&this._leafNode(new aa(e)),this}object(...e){let r=["{"];for(let[n,s]of e)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),q.addCodeArg(r,s));return r.push("}"),new q._Code(r)}if(e,r,n){if(this._blockNode(new qe(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new qe(e))}else(){return this._elseNode(new Kt)}endIf(){return this._endBlockNode(qe,Kt)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new ia(e),r)}forRange(e,r,n,s,a=this.opts.es5?we.varKinds.var:we.varKinds.let){let o=this._scope.toName(e);return this._for(new ca(a,o,r,n),()=>s(o))}forOf(e,r,n,s=we.varKinds.const){let a=this._scope.toName(e);if(this.opts.es5){let o=r instanceof q.Name?r:this.var("_arr",r);return this.forRange("_i",0,q._`${o}.length`,c=>{this.var(a,q._`${o}[${c}]`),n(a)})}return this._for(new an("of",s,a,r),()=>n(a))}forIn(e,r,n,s=this.opts.es5?we.varKinds.var:we.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,q._`Object.keys(${r})`,n);let a=this._scope.toName(e);return this._for(new an("in",s,a,r),()=>n(a))}endFor(){return this._endBlockNode(Et)}label(e){return this._leafNode(new ra(e))}break(e){return this._leafNode(new na(e))}return(e){let r=new vr;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(vr)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new ua;if(this._blockNode(s),this.code(e),r){let a=this.name("e");this._currNode=s.catch=new gr(a),r(a)}return n&&(this._currNode=s.finally=new _r,this.code(n)),this._endBlockNode(gr,_r)}throw(e){return this._leafNode(new sa(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=q.nil,n,s){return this._blockNode(new yr(e,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(yr)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof qe))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};R.CodeGen=la;function nt(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function $r(t,e){return e instanceof q._CodeOrName?nt(t,e.names):t}function St(t,e,r){if(t instanceof q.Name)return n(t);if(!s(t))return t;return new q._Code(t._items.reduce((a,o)=>(o instanceof q.Name&&(o=n(o)),o instanceof q._Code?a.push(...o._items):a.push(o),a),[]));function n(a){let o=r[a.str];return o===void 0||e[a.str]!==1?a:(delete e[a.str],o)}function s(a){return a instanceof q._Code&&a._items.some(o=>o instanceof q.Name&&e[o.str]===1&&r[o.str]!==void 0)}}function vc(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function da(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:q._`!${on(t)}`}R.not=da;var gc=fa(R.operators.AND);function _c(...t){return t.reduce(gc)}R.and=_c;var $c=fa(R.operators.OR);function wc(...t){return t.reduce($c)}R.or=wc;function fa(t){return(e,r)=>e===q.nil?r:r===q.nil?e:q._`${on(e)} ${t} ${on(r)}`}function on(t){return t instanceof q.Name?t:q._`(${t})`}});var V=b(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.checkStrictMode=I.getErrorPath=I.Type=I.useFunc=I.setEvaluated=I.evaluatedPropsToName=I.mergeEvaluated=I.eachItem=I.unescapeJsonPointer=I.escapeJsonPointer=I.escapeFragment=I.unescapeFragment=I.schemaRefOrVal=I.schemaHasRulesButRef=I.schemaHasRules=I.checkUnknownRules=I.alwaysValidSchema=I.toHash=void 0;var G=j(),Ec=Lt();function Sc(t){let e={};for(let r of t)e[r]=!0;return e}I.toHash=Sc;function bc(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(ha(t,e),!pa(e,t.self.RULES.all))}I.alwaysValidSchema=bc;function ha(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let s=n.RULES.keywords;for(let a in e)s[a]||$a(t,`unknown keyword: "${a}"`)}I.checkUnknownRules=ha;function pa(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}I.schemaHasRules=pa;function Pc(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}I.schemaHasRulesButRef=Pc;function Nc({topSchemaRef:t,schemaPath:e},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return G._`${r}`}return G._`${t}${e}${G.getProperty(n)}`}I.schemaRefOrVal=Nc;function Oc(t){return ma(decodeURIComponent(t))}I.unescapeFragment=Oc;function Tc(t){return encodeURIComponent(cn(t))}I.escapeFragment=Tc;function cn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}I.escapeJsonPointer=cn;function ma(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}I.unescapeJsonPointer=ma;function Cc(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}I.eachItem=Cc;function ya({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(s,a,o,c)=>{let d=o===void 0?a:o instanceof G.Name?(a instanceof G.Name?t(s,a,o):e(s,a,o),o):a instanceof G.Name?(e(s,o,a),a):r(a,o);return c===G.Name&&!(d instanceof G.Name)?n(s,d):d}}I.mergeEvaluated={props:ya({mergeNames:(t,e,r)=>t.if(G._`${r} !== true && ${e} !== undefined`,()=>{t.if(G._`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,G._`${r} || {}`).code(G._`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if(G._`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,G._`${r} || {}`),un(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:va}),items:ya({mergeNames:(t,e,r)=>t.if(G._`${r} !== true && ${e} !== undefined`,()=>t.assign(r,G._`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if(G._`${r} !== true`,()=>t.assign(r,e===!0?!0:G._`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function va(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",G._`{}`);return e!==void 0&&un(t,r,e),r}I.evaluatedPropsToName=va;function un(t,e,r){Object.keys(r).forEach(n=>t.assign(G._`${e}${G.getProperty(n)}`,!0))}I.setEvaluated=un;var ga={};function Rc(t,e){return t.scopeValue("func",{ref:e,code:ga[e.code]||(ga[e.code]=new Ec._Code(e.code))})}I.useFunc=Rc;var _a;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(_a=I.Type||(I.Type={}));function Ic(t,e,r){if(t instanceof G.Name){let n=e===_a.Num;return r?n?G._`"[" + ${t} + "]"`:G._`"['" + ${t} + "']"`:n?G._`"/" + ${t}`:G._`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?G.getProperty(t).toString():"/"+cn(t)}I.getErrorPath=Ic;function $a(t,e,r=t.opts.strictSchema){if(!!r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}I.checkStrictMode=$a});var Le=b(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});var ae=j(),jc={data:new ae.Name("data"),valCxt:new ae.Name("valCxt"),instancePath:new ae.Name("instancePath"),parentData:new ae.Name("parentData"),parentDataProperty:new ae.Name("parentDataProperty"),rootData:new ae.Name("rootData"),dynamicAnchors:new ae.Name("dynamicAnchors"),vErrors:new ae.Name("vErrors"),errors:new ae.Name("errors"),this:new ae.Name("this"),self:new ae.Name("self"),scope:new ae.Name("scope"),json:new ae.Name("json"),jsonPos:new ae.Name("jsonPos"),jsonLen:new ae.Name("jsonLen"),jsonPart:new ae.Name("jsonPart")};ln.default=jc});var xt=b(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.extendErrors=oe.resetErrorsCount=oe.reportExtraError=oe.reportError=oe.keyword$DataError=oe.keywordError=void 0;var D=j(),wr=V(),ce=Le();oe.keywordError={message:({keyword:t})=>D.str`should pass "${t}" keyword validation`};oe.keyword$DataError={message:({keyword:t,schemaType:e})=>e?D.str`"${t}" keyword must be ${e} ($data)`:D.str`"${t}" keyword is invalid ($data)`};function qc(t,e=oe.keywordError,r,n){let{it:s}=t,{gen:a,compositeRule:o,allErrors:c}=s,d=Sa(t,e,r);n??(o||c)?wa(a,d):Ea(s,D._`[${d}]`)}oe.reportError=qc;function kc(t,e=oe.keywordError,r){let{it:n}=t,{gen:s,compositeRule:a,allErrors:o}=n,c=Sa(t,e,r);wa(s,c),a||o||Ea(n,ce.default.vErrors)}oe.reportExtraError=kc;function Dc(t,e){t.assign(ce.default.errors,e),t.if(D._`${ce.default.vErrors} !== null`,()=>t.if(e,()=>t.assign(D._`${ce.default.vErrors}.length`,e),()=>t.assign(ce.default.vErrors,null)))}oe.resetErrorsCount=Dc;function Ac({gen:t,keyword:e,schemaValue:r,data:n,errsCount:s,it:a}){if(s===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",s,ce.default.errors,c=>{t.const(o,D._`${ce.default.vErrors}[${c}]`),t.if(D._`${o}.instancePath === undefined`,()=>t.assign(D._`${o}.instancePath`,D.strConcat(ce.default.instancePath,a.errorPath))),t.assign(D._`${o}.schemaPath`,D.str`${a.errSchemaPath}/${e}`),a.opts.verbose&&(t.assign(D._`${o}.schema`,r),t.assign(D._`${o}.data`,n))})}oe.extendErrors=Ac;function wa(t,e){let r=t.const("err",e);t.if(D._`${ce.default.vErrors} === null`,()=>t.assign(ce.default.vErrors,D._`[${r}]`),D._`${ce.default.vErrors}.push(${r})`),t.code(D._`${ce.default.errors}++`)}function Ea(t,e){let{gen:r,validateName:n,schemaEnv:s}=t;s.$async?r.throw(D._`new ${t.ValidationError}(${e})`):(r.assign(D._`${n}.errors`,e),r.return(!1))}var st={keyword:new D.Name("keyword"),schemaPath:new D.Name("schemaPath"),params:new D.Name("params"),propertyName:new D.Name("propertyName"),message:new D.Name("message"),schema:new D.Name("schema"),parentSchema:new D.Name("parentSchema")};function Sa(t,e,r){let{createErrors:n}=t.it;return n===!1?D._`{}`:Mc(t,e,r)}function Mc(t,e,r={}){let{gen:n,it:s}=t,a=[Vc(s,r),Fc(t,r)];return Uc(t,e,a),n.object(...a)}function Vc({errorPath:t},{instancePath:e}){let r=e?D.str`${t}${wr.getErrorPath(e,wr.Type.Str)}`:t;return[ce.default.instancePath,D.strConcat(ce.default.instancePath,r)]}function Fc({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let s=n?e:D.str`${e}/${t}`;return r&&(s=D.str`${s}${wr.getErrorPath(r,wr.Type.Str)}`),[st.schemaPath,s]}function Uc(t,{params:e,message:r},n){let{keyword:s,data:a,schemaValue:o,it:c}=t,{opts:d,propertyName:f,topSchemaRef:h,schemaPath:y}=c;n.push([st.keyword,s],[st.params,typeof e=="function"?e(t):e||D._`{}`]),d.messages&&n.push([st.message,typeof r=="function"?r(t):r]),d.verbose&&n.push([st.schema,o],[st.parentSchema,D._`${h}${y}`],[ce.default.data,a]),f&&n.push([st.propertyName,f])}});var Pa=b(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.boolOrEmptySchema=bt.topBoolOrEmptySchema=void 0;var zc=xt(),Lc=j(),Kc=Le(),xc={message:"boolean schema is false"};function Hc(t){let{gen:e,schema:r,validateName:n}=t;r===!1?ba(t,!1):typeof r=="object"&&r.$async===!0?e.return(Kc.default.data):(e.assign(Lc._`${n}.errors`,null),e.return(!0))}bt.topBoolOrEmptySchema=Hc;function Gc(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),ba(t)):r.var(e,!0)}bt.boolOrEmptySchema=Gc;function ba(t,e){let{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};zc.reportError(s,xc,void 0,e)}});var dn=b(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.getRules=Pt.isJSONType=void 0;var Jc=["string","number","integer","boolean","null","object","array"],Bc=new Set(Jc);function Wc(t){return typeof t=="string"&&Bc.has(t)}Pt.isJSONType=Wc;function Qc(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Pt.getRules=Qc});var fn=b(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.shouldUseRule=Je.shouldUseGroup=Je.schemaHasRulesForType=void 0;function Xc({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&Na(t,n)}Je.schemaHasRulesForType=Xc;function Na(t,e){return e.rules.some(r=>Oa(t,r))}Je.shouldUseGroup=Na;function Oa(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Je.shouldUseRule=Oa});var Gt=b(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.reportTypeError=re.checkDataTypes=re.checkDataType=re.coerceAndCheckDataType=re.getJSONTypes=re.getSchemaTypes=re.DataType=void 0;var Yc=dn(),Zc=fn(),eu=xt(),T=j(),Ta=V(),Ht;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Ht=re.DataType||(re.DataType={}));function tu(t){let e=Ca(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}re.getSchemaTypes=tu;function Ca(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(Yc.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}re.getJSONTypes=Ca;function ru(t,e){let{gen:r,data:n,opts:s}=t,a=nu(e,s.coerceTypes),o=e.length>0&&!(a.length===0&&e.length===1&&Zc.schemaHasRulesForType(t,e[0]));if(o){let c=pn(e,n,s.strictNumbers,Ht.Wrong);r.if(c,()=>{a.length?su(t,e,a):mn(t)})}return o}re.coerceAndCheckDataType=ru;var Ra=new Set(["string","number","integer","boolean","null"]);function nu(t,e){return e?t.filter(r=>Ra.has(r)||e==="array"&&r==="array"):[]}function su(t,e,r){let{gen:n,data:s,opts:a}=t,o=n.let("dataType",T._`typeof ${s}`),c=n.let("coerced",T._`undefined`);a.coerceTypes==="array"&&n.if(T._`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,T._`${s}[0]`).assign(o,T._`typeof ${s}`).if(pn(e,s,a.strictNumbers),()=>n.assign(c,s))),n.if(T._`${c} !== undefined`);for(let f of r)(Ra.has(f)||f==="array"&&a.coerceTypes==="array")&&d(f);n.else(),mn(t),n.endIf(),n.if(T._`${c} !== undefined`,()=>{n.assign(s,c),au(t,c)});function d(f){switch(f){case"string":n.elseIf(T._`${o} == "number" || ${o} == "boolean"`).assign(c,T._`"" + ${s}`).elseIf(T._`${s} === null`).assign(c,T._`""`);return;case"number":n.elseIf(T._`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(c,T._`+${s}`);return;case"integer":n.elseIf(T._`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(c,T._`+${s}`);return;case"boolean":n.elseIf(T._`${s} === "false" || ${s} === 0 || ${s} === null`).assign(c,!1).elseIf(T._`${s} === "true" || ${s} === 1`).assign(c,!0);return;case"null":n.elseIf(T._`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(c,null);return;case"array":n.elseIf(T._`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(c,T._`[${s}]`)}}}function au({gen:t,parentData:e,parentDataProperty:r},n){t.if(T._`${e} !== undefined`,()=>t.assign(T._`${e}[${r}]`,n))}function hn(t,e,r,n=Ht.Correct){let s=n===Ht.Correct?T.operators.EQ:T.operators.NEQ,a;switch(t){case"null":return T._`${e} ${s} null`;case"array":a=T._`Array.isArray(${e})`;break;case"object":a=T._`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":a=o(T._`!(${e} % 1) && !isNaN(${e})`);break;case"number":a=o();break;default:return T._`typeof ${e} ${s} ${t}`}return n===Ht.Correct?a:T.not(a);function o(c=T.nil){return T.and(T._`typeof ${e} == "number"`,c,r?T._`isFinite(${e})`:T.nil)}}re.checkDataType=hn;function pn(t,e,r,n){if(t.length===1)return hn(t[0],e,r,n);let s,a=Ta.toHash(t);if(a.array&&a.object){let o=T._`typeof ${e} != "object"`;s=a.null?o:T._`!${e} || ${o}`,delete a.null,delete a.array,delete a.object}else s=T.nil;a.number&&delete a.integer;for(let o in a)s=T.and(s,hn(o,e,r,n));return s}re.checkDataTypes=pn;var ou={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?T._`{type: ${t}}`:T._`{type: ${e}}`};function mn(t){let e=iu(t);eu.reportError(e,ou)}re.reportTypeError=mn;function iu(t){let{gen:e,data:r,schema:n}=t,s=Ta.schemaRefOrVal(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:t}}});var ja=b(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.assignDefaults=void 0;var Nt=j(),cu=V();function uu(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let s in r)Ia(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Ia(t,a,s.default))}Er.assignDefaults=uu;function Ia(t,e,r){let{gen:n,compositeRule:s,data:a,opts:o}=t;if(r===void 0)return;let c=Nt._`${a}${Nt.getProperty(e)}`;if(s){cu.checkStrictMode(t,`default is ignored for: ${c}`);return}let d=Nt._`${c} === undefined`;o.useDefaults==="empty"&&(d=Nt._`${d} || ${c} === null || ${c} === ""`),n.if(d,Nt._`${c} = ${Nt.stringify(r)}`)}});var _e=b(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.validateUnion=L.validateArray=L.usePattern=L.callValidateCode=L.schemaProperties=L.allSchemaProperties=L.noPropertyInData=L.propertyInData=L.isOwnProperty=L.hasPropFunc=L.reportMissingProp=L.checkMissingProp=L.checkReportMissingProp=void 0;var B=j(),yn=V(),Be=Le();function lu(t,e){let{gen:r,data:n,it:s}=t;r.if(gn(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:B._`${e}`},!0),t.error()})}L.checkReportMissingProp=lu;function du({gen:t,data:e,it:{opts:r}},n,s){return B.or(...n.map(a=>B.and(gn(t,e,a,r.ownProperties),B._`${s} = ${a}`)))}L.checkMissingProp=du;function fu(t,e){t.setParams({missingProperty:e},!0),t.error()}L.reportMissingProp=fu;function qa(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:B._`Object.prototype.hasOwnProperty`})}L.hasPropFunc=qa;function vn(t,e,r){return B._`${qa(t)}.call(${e}, ${r})`}L.isOwnProperty=vn;function hu(t,e,r,n){let s=B._`${e}${B.getProperty(r)} !== undefined`;return n?B._`${s} && ${vn(t,e,r)}`:s}L.propertyInData=hu;function gn(t,e,r,n){let s=B._`${e}${B.getProperty(r)} === undefined`;return n?B.or(s,B.not(vn(t,e,r))):s}L.noPropertyInData=gn;function ka(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}L.allSchemaProperties=ka;function pu(t,e){return ka(e).filter(r=>!yn.alwaysValidSchema(t,e[r]))}L.schemaProperties=pu;function mu({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},c,d,f){let h=f?B._`${t}, ${e}, ${n}${s}`:e,y=[[Be.default.instancePath,B.strConcat(Be.default.instancePath,a)],[Be.default.parentData,o.parentData],[Be.default.parentDataProperty,o.parentDataProperty],[Be.default.rootData,Be.default.rootData]];o.opts.dynamicRef&&y.push([Be.default.dynamicAnchors,Be.default.dynamicAnchors]);let w=B._`${h}, ${r.object(...y)}`;return d!==B.nil?B._`${c}.call(${d}, ${w})`:B._`${c}(${w})`}L.callValidateCode=mu;function yu({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"";return t.scopeValue("pattern",{key:r,ref:new RegExp(r,n),code:B._`new RegExp(${r}, ${n})`})}L.usePattern=yu;function vu(t){let{gen:e,data:r,keyword:n,it:s}=t,a=e.name("valid");if(s.allErrors){let c=e.let("valid",!0);return o(()=>e.assign(c,!1)),c}return e.var(a,!0),o(()=>e.break()),a;function o(c){let d=e.const("len",B._`${r}.length`);e.forRange("i",0,d,f=>{t.subschema({keyword:n,dataProp:f,dataPropType:yn.Type.Num},a),e.if(B.not(a),c)})}}L.validateArray=vu;function gu(t){let{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>yn.alwaysValidSchema(s,d))&&!s.opts.unevaluated)return;let o=e.let("valid",!1),c=e.name("_valid");e.block(()=>r.forEach((d,f)=>{let h=t.subschema({keyword:n,schemaProp:f,compositeRule:!0},c);e.assign(o,B._`${o} || ${c}`),t.mergeValidEvaluated(h,c)||e.if(B.not(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}L.validateUnion=gu});var Ma=b(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.validateKeywordUsage=ke.validSchemaType=ke.funcKeywordCode=ke.macroKeywordCode=void 0;var ue=j(),at=Le(),_u=_e(),$u=xt();function wu(t,e){let{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=t,c=e.macro.call(o.self,s,a,o),d=Aa(r,n,c);o.opts.validateSchema!==!1&&o.self.validateSchema(c,!0);let f=r.name("valid");t.subschema({schema:c,schemaPath:ue.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:d,compositeRule:!0},f),t.pass(f,()=>t.error(!0))}ke.macroKeywordCode=wu;function Eu(t,e){var r;let{gen:n,keyword:s,schema:a,parentSchema:o,$data:c,it:d}=t;bu(d,e);let f=!c&&e.compile?e.compile.call(d.self,a,o,d):e.validate,h=Aa(n,s,f),y=n.let("valid");t.block$data(y,w),t.ok((r=e.valid)!==null&&r!==void 0?r:y);function w(){if(e.errors===!1)$(),e.modifying&&Da(t),E(()=>t.error());else{let g=e.async?_():v();e.modifying&&Da(t),E(()=>Su(t,g))}}function _(){let g=n.let("ruleErrs",null);return n.try(()=>$(ue._`await `),C=>n.assign(y,!1).if(ue._`${C} instanceof ${d.ValidationError}`,()=>n.assign(g,ue._`${C}.errors`),()=>n.throw(C))),g}function v(){let g=ue._`${h}.errors`;return n.assign(g,null),$(ue.nil),g}function $(g=e.async?ue._`await `:ue.nil){let C=d.opts.passContext?at.default.this:at.default.self,te=!("compile"in e&&!c||e.schema===!1);n.assign(y,ue._`${g}${_u.callValidateCode(t,h,C,te)}`,e.modifying)}function E(g){var C;n.if(ue.not((C=e.valid)!==null&&C!==void 0?C:y),g)}}ke.funcKeywordCode=Eu;function Da(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,ue._`${n.parentData}[${n.parentDataProperty}]`))}function Su(t,e){let{gen:r}=t;r.if(ue._`Array.isArray(${e})`,()=>{r.assign(at.default.vErrors,ue._`${at.default.vErrors} === null ? ${e} : ${at.default.vErrors}.concat(${e})`).assign(at.default.errors,ue._`${at.default.vErrors}.length`),$u.extendErrors(t)},()=>t.error())}function bu({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Aa(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:ue.stringify(r)})}function Pu(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}ke.validSchemaType=Pu;function Nu({schema:t,opts:e,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");let o=s.dependencies;if(o==null?void 0:o.some(c=>!Object.prototype.hasOwnProperty.call(t,c)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[a])){let d=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}ke.validateKeywordUsage=Nu});var Fa=b(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.extendSubschemaMode=We.extendSubschemaData=We.getSubschema=void 0;var De=j(),Va=V();function Ou(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let c=t.schema[e];return r===void 0?{schema:c,schemaPath:De._`${t.schemaPath}${De.getProperty(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:c[r],schemaPath:De._`${t.schemaPath}${De.getProperty(e)}${De.getProperty(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${Va.escapeFragment(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}We.getSubschema=Ou;function Tu(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=e;if(r!==void 0){let{errorPath:f,dataPathArr:h,opts:y}=e,w=c.let("data",De._`${e.data}${De.getProperty(r)}`,!0);d(w),t.errorPath=De.str`${f}${Va.getErrorPath(r,n,y.jsPropertySyntax)}`,t.parentDataProperty=De._`${r}`,t.dataPathArr=[...h,t.parentDataProperty]}if(s!==void 0){let f=s instanceof De.Name?s:c.let("data",s,!0);d(f),o!==void 0&&(t.propertyName=o)}a&&(t.dataTypes=a);function d(f){t.data=f,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,f]}}We.extendSubschemaData=Tu;function Cu(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),a!==void 0&&(t.allErrors=a),t.jtdDiscriminator=e,t.jtdMetadata=r}We.extendSubschemaMode=Cu});var _n=b((Eh,Ua)=>{"use strict";Ua.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!=0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!=0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!=0;){var o=a[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}});var La=b((Sh,za)=>{"use strict";var Qe=za.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Sr(e,n,s,t,"",t)};Qe.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Qe.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Qe.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Qe.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Sr(t,e,r,n,s,a,o,c,d,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,a,o,c,d,f);for(var h in n){var y=n[h];if(Array.isArray(y)){if(h in Qe.arrayKeywords)for(var w=0;w<y.length;w++)Sr(t,e,r,y[w],s+"/"+h+"/"+w,a,s,h,n,w)}else if(h in Qe.propsKeywords){if(y&&typeof y=="object")for(var _ in y)Sr(t,e,r,y[_],s+"/"+h+"/"+Ru(_),a,s,h,n,_)}else(h in Qe.keywords||t.allKeys&&!(h in Qe.skipKeywords))&&Sr(t,e,r,y,s+"/"+h,a,s,h,n)}r(n,s,a,o,c,d,f)}}function Ru(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var $n=b((br,Ka)=>{(function(t,e){typeof br=="object"&&typeof Ka!="undefined"?e(br):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(br,function(t){"use strict";function e(){for(var u=arguments.length,i=Array(u),l=0;l<u;l++)i[l]=arguments[l];if(i.length>1){i[0]=i[0].slice(0,-1);for(var p=i.length-1,m=1;m<p;++m)i[m]=i[m].slice(1,-1);return i[p]=i[p].slice(1),i.join("")}else return i[0]}function r(u){return"(?:"+u+")"}function n(u){return u===void 0?"undefined":u===null?"null":Object.prototype.toString.call(u).split(" ").pop().split("]").shift().toLowerCase()}function s(u){return u.toUpperCase()}function a(u){return u!=null?u instanceof Array?u:typeof u.length!="number"||u.split||u.setInterval||u.call?[u]:Array.prototype.slice.call(u):[]}function o(u,i){var l=u;if(i)for(var p in i)l[p]=i[p];return l}function c(u){var i="[A-Za-z]",l="[\\x0D]",p="[0-9]",m="[\\x22]",S=e(p,"[A-Fa-f]"),O="[\\x0A]",A="[\\x20]",F=r(r("%[EFef]"+S+"%"+S+S+"%"+S+S)+"|"+r("%[89A-Fa-f]"+S+"%"+S+S)+"|"+r("%"+S+S)),Y="[\\:\\/\\?\\#\\[\\]\\@]",k="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",W=e(Y,k),Z=u?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",J=u?"[\\uE000-\\uF8FF]":"[]",M=e(i,p,"[\\-\\.\\_\\~]",Z),Q=r(i+e(i,p,"[\\+\\-\\.]")+"*"),z=r(r(F+"|"+e(M,k,"[\\:]"))+"*"),et=r(r("25[0-5]")+"|"+r("2[0-4]"+p)+"|"+r("1"+p+p)+"|"+r("[1-9]"+p)+"|"+p),he=r(r("25[0-5]")+"|"+r("2[0-4]"+p)+"|"+r("1"+p+p)+"|"+r("0?[1-9]"+p)+"|0?0?"+p),ve=r(he+"\\."+he+"\\."+he+"\\."+he),H=r(S+"{1,4}"),pe=r(r(H+"\\:"+H)+"|"+ve),ge=r(r(H+"\\:")+"{6}"+pe),Ie=r("\\:\\:"+r(H+"\\:")+"{5}"+pe),tt=r(r(H)+"?\\:\\:"+r(H+"\\:")+"{4}"+pe),Fe=r(r(r(H+"\\:")+"{0,1}"+H)+"?\\:\\:"+r(H+"\\:")+"{3}"+pe),At=r(r(r(H+"\\:")+"{0,2}"+H)+"?\\:\\:"+r(H+"\\:")+"{2}"+pe),lr=r(r(r(H+"\\:")+"{0,3}"+H)+"?\\:\\:"+H+"\\:"+pe),dr=r(r(r(H+"\\:")+"{0,4}"+H)+"?\\:\\:"+pe),mt=r(r(r(H+"\\:")+"{0,5}"+H)+"?\\:\\:"+H),yt=r(r(r(H+"\\:")+"{0,6}"+H)+"?\\:\\:"),Ue=r([ge,Ie,tt,Fe,At,lr,dr,mt,yt].join("|")),vt=r(r(M+"|"+F)+"+"),Wr=r(Ue+"\\%25"+vt),rt=r(Ue+r("\\%25|\\%(?!"+S+"{2})")+vt),Wi=r("[vV]"+S+"+\\."+e(M,k,"[\\:]")+"+"),Qi=r("\\["+r(rt+"|"+Ue+"|"+Wi)+"\\]"),Hs=r(r(F+"|"+e(M,k))+"*"),Mt=r(Qi+"|"+ve+"(?!"+Hs+")|"+Hs),Vt=r(p+"*"),Gs=r(r(z+"@")+"?"+Mt+r("\\:"+Vt)+"?"),Ft=r(F+"|"+e(M,k,"[\\:\\@]")),Xi=r(Ft+"*"),Js=r(Ft+"+"),Yi=r(r(F+"|"+e(M,k,"[\\@]"))+"+"),ze=r(r("\\/"+Xi)+"*"),gt=r("\\/"+r(Js+ze)+"?"),Qr=r(Yi+ze),fr=r(Js+ze),_t="(?!"+Ft+")",Zf=r(ze+"|"+gt+"|"+Qr+"|"+fr+"|"+_t),$t=r(r(Ft+"|"+e("[\\/\\?]",J))+"*"),Ut=r(r(Ft+"|[\\/\\?]")+"*"),Bs=r(r("\\/\\/"+Gs+ze)+"|"+gt+"|"+fr+"|"+_t),Zi=r(Q+"\\:"+Bs+r("\\?"+$t)+"?"+r("\\#"+Ut)+"?"),ec=r(r("\\/\\/"+Gs+ze)+"|"+gt+"|"+Qr+"|"+_t),tc=r(ec+r("\\?"+$t)+"?"+r("\\#"+Ut)+"?"),eh=r(Zi+"|"+tc),th=r(Q+"\\:"+Bs+r("\\?"+$t)+"?"),rh="^("+Q+")\\:"+r(r("\\/\\/("+r("("+z+")@")+"?("+Mt+")"+r("\\:("+Vt+")")+"?)")+"?("+ze+"|"+gt+"|"+fr+"|"+_t+")")+r("\\?("+$t+")")+"?"+r("\\#("+Ut+")")+"?$",nh="^(){0}"+r(r("\\/\\/("+r("("+z+")@")+"?("+Mt+")"+r("\\:("+Vt+")")+"?)")+"?("+ze+"|"+gt+"|"+Qr+"|"+_t+")")+r("\\?("+$t+")")+"?"+r("\\#("+Ut+")")+"?$",sh="^("+Q+")\\:"+r(r("\\/\\/("+r("("+z+")@")+"?("+Mt+")"+r("\\:("+Vt+")")+"?)")+"?("+ze+"|"+gt+"|"+fr+"|"+_t+")")+r("\\?("+$t+")")+"?$",ah="^"+r("\\#("+Ut+")")+"?$",oh="^"+r("("+z+")@")+"?("+Mt+")"+r("\\:("+Vt+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",i,p,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",M,k),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",M,k),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",M,k),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",M,k),"g"),NOT_QUERY:new RegExp(e("[^\\%]",M,k,"[\\:\\@\\/\\?]",J),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",M,k,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",M,k),"g"),UNRESERVED:new RegExp(M,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",M,W),"g"),PCT_ENCODED:new RegExp(F,"g"),IPV4ADDRESS:new RegExp("^("+ve+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ue+")"+r(r("\\%25|\\%(?!"+S+"{2})")+"("+vt+")")+"?\\]?$")}}var d=c(!1),f=c(!0),h=function(){function u(i,l){var p=[],m=!0,S=!1,O=void 0;try{for(var A=i[Symbol.iterator](),F;!(m=(F=A.next()).done)&&(p.push(F.value),!(l&&p.length===l));m=!0);}catch(Y){S=!0,O=Y}finally{try{!m&&A.return&&A.return()}finally{if(S)throw O}}return p}return function(i,l){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return u(i,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(u){if(Array.isArray(u)){for(var i=0,l=Array(u.length);i<u.length;i++)l[i]=u[i];return l}else return Array.from(u)},w=2147483647,_=36,v=1,$=26,E=38,g=700,C=72,te=128,K="-",x=/^xn--/,me=/[^\0-\x7E]/,Ne=/[\x2E\u3002\uFF0E\uFF61]/g,qt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},lt=_-v,Oe=Math.floor,xr=String.fromCharCode;function Ze(u){throw new RangeError(qt[u])}function bi(u,i){for(var l=[],p=u.length;p--;)l[p]=i(u[p]);return l}function Ns(u,i){var l=u.split("@"),p="";l.length>1&&(p=l[0]+"@",u=l[1]),u=u.replace(Ne,".");var m=u.split("."),S=bi(m,i).join(".");return p+S}function Os(u){for(var i=[],l=0,p=u.length;l<p;){var m=u.charCodeAt(l++);if(m>=55296&&m<=56319&&l<p){var S=u.charCodeAt(l++);(S&64512)==56320?i.push(((m&1023)<<10)+(S&1023)+65536):(i.push(m),l--)}else i.push(m)}return i}var Pi=function(i){return String.fromCodePoint.apply(String,y(i))},Ni=function(i){return i-48<10?i-22:i-65<26?i-65:i-97<26?i-97:_},Ts=function(i,l){return i+22+75*(i<26)-((l!=0)<<5)},Cs=function(i,l,p){var m=0;for(i=p?Oe(i/g):i>>1,i+=Oe(i/l);i>lt*$>>1;m+=_)i=Oe(i/lt);return Oe(m+(lt+1)*i/(i+E))},Rs=function(i){var l=[],p=i.length,m=0,S=te,O=C,A=i.lastIndexOf(K);A<0&&(A=0);for(var F=0;F<A;++F)i.charCodeAt(F)>=128&&Ze("not-basic"),l.push(i.charCodeAt(F));for(var Y=A>0?A+1:0;Y<p;){for(var k=m,W=1,Z=_;;Z+=_){Y>=p&&Ze("invalid-input");var J=Ni(i.charCodeAt(Y++));(J>=_||J>Oe((w-m)/W))&&Ze("overflow"),m+=J*W;var M=Z<=O?v:Z>=O+$?$:Z-O;if(J<M)break;var Q=_-M;W>Oe(w/Q)&&Ze("overflow"),W*=Q}var z=l.length+1;O=Cs(m-k,z,k==0),Oe(m/z)>w-S&&Ze("overflow"),S+=Oe(m/z),m%=z,l.splice(m++,0,S)}return String.fromCodePoint.apply(String,l)},Is=function(i){var l=[];i=Os(i);var p=i.length,m=te,S=0,O=C,A=!0,F=!1,Y=void 0;try{for(var k=i[Symbol.iterator](),W;!(A=(W=k.next()).done);A=!0){var Z=W.value;Z<128&&l.push(xr(Z))}}catch(rt){F=!0,Y=rt}finally{try{!A&&k.return&&k.return()}finally{if(F)throw Y}}var J=l.length,M=J;for(J&&l.push(K);M<p;){var Q=w,z=!0,et=!1,he=void 0;try{for(var ve=i[Symbol.iterator](),H;!(z=(H=ve.next()).done);z=!0){var pe=H.value;pe>=m&&pe<Q&&(Q=pe)}}catch(rt){et=!0,he=rt}finally{try{!z&&ve.return&&ve.return()}finally{if(et)throw he}}var ge=M+1;Q-m>Oe((w-S)/ge)&&Ze("overflow"),S+=(Q-m)*ge,m=Q;var Ie=!0,tt=!1,Fe=void 0;try{for(var At=i[Symbol.iterator](),lr;!(Ie=(lr=At.next()).done);Ie=!0){var dr=lr.value;if(dr<m&&++S>w&&Ze("overflow"),dr==m){for(var mt=S,yt=_;;yt+=_){var Ue=yt<=O?v:yt>=O+$?$:yt-O;if(mt<Ue)break;var vt=mt-Ue,Wr=_-Ue;l.push(xr(Ts(Ue+vt%Wr,0))),mt=Oe(vt/Wr)}l.push(xr(Ts(mt,0))),O=Cs(S,ge,M==J),S=0,++M}}}catch(rt){tt=!0,Fe=rt}finally{try{!Ie&&At.return&&At.return()}finally{if(tt)throw Fe}}++S,++m}return l.join("")},Oi=function(i){return Ns(i,function(l){return x.test(l)?Rs(l.slice(4).toLowerCase()):l})},Ti=function(i){return Ns(i,function(l){return me.test(l)?"xn--"+Is(l):l})},dt={version:"2.1.0",ucs2:{decode:Os,encode:Pi},decode:Rs,encode:Is,toASCII:Ti,toUnicode:Oi},ye={};function Te(u){var i=u.charCodeAt(0),l=void 0;return i<16?l="%0"+i.toString(16).toUpperCase():i<128?l="%"+i.toString(16).toUpperCase():i<2048?l="%"+(i>>6|192).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase():l="%"+(i>>12|224).toString(16).toUpperCase()+"%"+(i>>6&63|128).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase(),l}function ft(u){for(var i="",l=0,p=u.length;l<p;){var m=parseInt(u.substr(l+1,2),16);if(m<128)i+=String.fromCharCode(m),l+=3;else if(m>=194&&m<224){if(p-l>=6){var S=parseInt(u.substr(l+4,2),16);i+=String.fromCharCode((m&31)<<6|S&63)}else i+=u.substr(l,6);l+=6}else if(m>=224){if(p-l>=9){var O=parseInt(u.substr(l+4,2),16),A=parseInt(u.substr(l+7,2),16);i+=String.fromCharCode((m&15)<<12|(O&63)<<6|A&63)}else i+=u.substr(l,9);l+=9}else i+=u.substr(l,3),l+=3}return i}function Hr(u,i){function l(p){var m=ft(p);return m.match(i.UNRESERVED)?m:p}return u.scheme&&(u.scheme=String(u.scheme).replace(i.PCT_ENCODED,l).toLowerCase().replace(i.NOT_SCHEME,"")),u.userinfo!==void 0&&(u.userinfo=String(u.userinfo).replace(i.PCT_ENCODED,l).replace(i.NOT_USERINFO,Te).replace(i.PCT_ENCODED,s)),u.host!==void 0&&(u.host=String(u.host).replace(i.PCT_ENCODED,l).toLowerCase().replace(i.NOT_HOST,Te).replace(i.PCT_ENCODED,s)),u.path!==void 0&&(u.path=String(u.path).replace(i.PCT_ENCODED,l).replace(u.scheme?i.NOT_PATH:i.NOT_PATH_NOSCHEME,Te).replace(i.PCT_ENCODED,s)),u.query!==void 0&&(u.query=String(u.query).replace(i.PCT_ENCODED,l).replace(i.NOT_QUERY,Te).replace(i.PCT_ENCODED,s)),u.fragment!==void 0&&(u.fragment=String(u.fragment).replace(i.PCT_ENCODED,l).replace(i.NOT_FRAGMENT,Te).replace(i.PCT_ENCODED,s)),u}function Gr(u){return u.replace(/^0*(.*)/,"$1")||"0"}function Jr(u,i){var l=u.match(i.IPV4ADDRESS)||[],p=h(l,2),m=p[1];return m?m.split(".").map(Gr).join("."):u}function js(u,i){var l=u.match(i.IPV6ADDRESS)||[],p=h(l,3),m=p[1],S=p[2];if(m){for(var O=m.toLowerCase().split("::").reverse(),A=h(O,2),F=A[0],Y=A[1],k=Y?Y.split(":").map(Gr):[],W=F.split(":").map(Gr),Z=i.IPV4ADDRESS.test(W[W.length-1]),J=Z?7:8,M=W.length-J,Q=Array(J),z=0;z<J;++z)Q[z]=k[z]||W[M+z]||"";Z&&(Q[J-1]=Jr(Q[J-1],i));var et=Q.reduce(function(ge,Ie,tt){if(!Ie||Ie==="0"){var Fe=ge[ge.length-1];Fe&&Fe.index+Fe.length===tt?Fe.length++:ge.push({index:tt,length:1})}return ge},[]),he=et.sort(function(ge,Ie){return Ie.length-ge.length})[0],ve=void 0;if(he&&he.length>1){var H=Q.slice(0,he.index),pe=Q.slice(he.index+he.length);ve=H.join(":")+"::"+pe.join(":")}else ve=Q.join(":");return S&&(ve+="%"+S),ve}else return u}var Ci=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ri="".match(/(){0}/)[1]===void 0;function Me(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l={},p=i.iri!==!1?f:d;i.reference==="suffix"&&(u=(i.scheme?i.scheme+":":"")+"//"+u);var m=u.match(Ci);if(m){Ri?(l.scheme=m[1],l.userinfo=m[3],l.host=m[4],l.port=parseInt(m[5],10),l.path=m[6]||"",l.query=m[7],l.fragment=m[8],isNaN(l.port)&&(l.port=m[5])):(l.scheme=m[1]||void 0,l.userinfo=u.indexOf("@")!==-1?m[3]:void 0,l.host=u.indexOf("//")!==-1?m[4]:void 0,l.port=parseInt(m[5],10),l.path=m[6]||"",l.query=u.indexOf("?")!==-1?m[7]:void 0,l.fragment=u.indexOf("#")!==-1?m[8]:void 0,isNaN(l.port)&&(l.port=u.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?m[4]:void 0)),l.host&&(l.host=js(Jr(l.host,p),p)),l.scheme===void 0&&l.userinfo===void 0&&l.host===void 0&&l.port===void 0&&!l.path&&l.query===void 0?l.reference="same-document":l.scheme===void 0?l.reference="relative":l.fragment===void 0?l.reference="absolute":l.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==l.reference&&(l.error=l.error||"URI is not a "+i.reference+" reference.");var S=ye[(i.scheme||l.scheme||"").toLowerCase()];if(!i.unicodeSupport&&(!S||!S.unicodeSupport)){if(l.host&&(i.domainHost||S&&S.domainHost))try{l.host=dt.toASCII(l.host.replace(p.PCT_ENCODED,ft).toLowerCase())}catch(O){l.error=l.error||"Host's domain name can not be converted to ASCII via punycode: "+O}Hr(l,d)}else Hr(l,p);S&&S.parse&&S.parse(l,i)}else l.error=l.error||"URI can not be parsed.";return l}function Ii(u,i){var l=i.iri!==!1?f:d,p=[];return u.userinfo!==void 0&&(p.push(u.userinfo),p.push("@")),u.host!==void 0&&p.push(js(Jr(String(u.host),l),l).replace(l.IPV6ADDRESS,function(m,S,O){return"["+S+(O?"%25"+O:"")+"]"})),(typeof u.port=="number"||typeof u.port=="string")&&(p.push(":"),p.push(String(u.port))),p.length?p.join(""):void 0}var qs=/^\.\.?\//,ks=/^\/\.(\/|$)/,Ds=/^\/\.\.(\/|$)/,ji=/^\/?(?:.|\n)*?(?=\/|$)/;function ht(u){for(var i=[];u.length;)if(u.match(qs))u=u.replace(qs,"");else if(u.match(ks))u=u.replace(ks,"/");else if(u.match(Ds))u=u.replace(Ds,"/"),i.pop();else if(u==="."||u==="..")u="";else{var l=u.match(ji);if(l){var p=l[0];u=u.slice(p.length),i.push(p)}else throw new Error("Unexpected dot segment condition")}return i.join("")}function Ce(u){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.iri?f:d,p=[],m=ye[(i.scheme||u.scheme||"").toLowerCase()];if(m&&m.serialize&&m.serialize(u,i),u.host&&!l.IPV6ADDRESS.test(u.host)){if(i.domainHost||m&&m.domainHost)try{u.host=i.iri?dt.toUnicode(u.host):dt.toASCII(u.host.replace(l.PCT_ENCODED,ft).toLowerCase())}catch(A){u.error=u.error||"Host's domain name can not be converted to "+(i.iri?"Unicode":"ASCII")+" via punycode: "+A}}Hr(u,l),i.reference!=="suffix"&&u.scheme&&(p.push(u.scheme),p.push(":"));var S=Ii(u,i);if(S!==void 0&&(i.reference!=="suffix"&&p.push("//"),p.push(S),u.path&&u.path.charAt(0)!=="/"&&p.push("/")),u.path!==void 0){var O=u.path;!i.absolutePath&&(!m||!m.absolutePath)&&(O=ht(O)),S===void 0&&(O=O.replace(/^\/\//,"/%2F")),p.push(O)}return u.query!==void 0&&(p.push("?"),p.push(u.query)),u.fragment!==void 0&&(p.push("#"),p.push(u.fragment)),p.join("")}function As(u,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments[3],m={};return p||(u=Me(Ce(u,l),l),i=Me(Ce(i,l),l)),l=l||{},!l.tolerant&&i.scheme?(m.scheme=i.scheme,m.userinfo=i.userinfo,m.host=i.host,m.port=i.port,m.path=ht(i.path||""),m.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(m.userinfo=i.userinfo,m.host=i.host,m.port=i.port,m.path=ht(i.path||""),m.query=i.query):(i.path?(i.path.charAt(0)==="/"?m.path=ht(i.path):((u.userinfo!==void 0||u.host!==void 0||u.port!==void 0)&&!u.path?m.path="/"+i.path:u.path?m.path=u.path.slice(0,u.path.lastIndexOf("/")+1)+i.path:m.path=i.path,m.path=ht(m.path)),m.query=i.query):(m.path=u.path,i.query!==void 0?m.query=i.query:m.query=u.query),m.userinfo=u.userinfo,m.host=u.host,m.port=u.port),m.scheme=u.scheme),m.fragment=i.fragment,m}function qi(u,i,l){var p=o({scheme:"null"},l);return Ce(As(Me(u,p),Me(i,p),p,!0),p)}function ki(u,i){return typeof u=="string"?u=Ce(Me(u,i),i):n(u)==="object"&&(u=Me(Ce(u,i),i)),u}function Di(u,i,l){return typeof u=="string"?u=Ce(Me(u,l),l):n(u)==="object"&&(u=Ce(u,l)),typeof i=="string"?i=Ce(Me(i,l),l):n(i)==="object"&&(i=Ce(i,l)),u===i}function Ai(u,i){return u&&u.toString().replace(!i||!i.iri?d.ESCAPE:f.ESCAPE,Te)}function Ve(u,i){return u&&u.toString().replace(!i||!i.iri?d.PCT_ENCODED:f.PCT_ENCODED,ft)}var kt={scheme:"http",domainHost:!0,parse:function(i,l){return i.host||(i.error=i.error||"HTTP URIs must have a host."),i},serialize:function(i,l){var p=String(i.scheme).toLowerCase()==="https";return(i.port===(p?443:80)||i.port==="")&&(i.port=void 0),i.path||(i.path="/"),i}},Ms={scheme:"https",domainHost:kt.domainHost,parse:kt.parse,serialize:kt.serialize};function Vs(u){return typeof u.secure=="boolean"?u.secure:String(u.scheme).toLowerCase()==="wss"}var Dt={scheme:"ws",domainHost:!0,parse:function(i,l){var p=i;return p.secure=Vs(p),p.resourceName=(p.path||"/")+(p.query?"?"+p.query:""),p.path=void 0,p.query=void 0,p},serialize:function(i,l){if((i.port===(Vs(i)?443:80)||i.port==="")&&(i.port=void 0),typeof i.secure=="boolean"&&(i.scheme=i.secure?"wss":"ws",i.secure=void 0),i.resourceName){var p=i.resourceName.split("?"),m=h(p,2),S=m[0],O=m[1];i.path=S&&S!=="/"?S:void 0,i.query=O,i.resourceName=void 0}return i.fragment=void 0,i}},Fs={scheme:"wss",domainHost:Dt.domainHost,parse:Dt.parse,serialize:Dt.serialize},Mi={},Vi=!0,Us="[A-Za-z0-9\\-\\.\\_\\~"+(Vi?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Re="[0-9A-Fa-f]",Fi=r(r("%[EFef]"+Re+"%"+Re+Re+"%"+Re+Re)+"|"+r("%[89A-Fa-f]"+Re+"%"+Re+Re)+"|"+r("%"+Re+Re)),Ui="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",zi="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Li=e(zi,'[\\"\\\\]'),Ki="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",xi=new RegExp(Us,"g"),pt=new RegExp(Fi,"g"),Hi=new RegExp(e("[^]",Ui,"[\\.]",'[\\"]',Li),"g"),zs=new RegExp(e("[^]",Us,Ki),"g"),Gi=zs;function Br(u){var i=ft(u);return i.match(xi)?i:u}var Ls={scheme:"mailto",parse:function(i,l){var p=i,m=p.to=p.path?p.path.split(","):[];if(p.path=void 0,p.query){for(var S=!1,O={},A=p.query.split("&"),F=0,Y=A.length;F<Y;++F){var k=A[F].split("=");switch(k[0]){case"to":for(var W=k[1].split(","),Z=0,J=W.length;Z<J;++Z)m.push(W[Z]);break;case"subject":p.subject=Ve(k[1],l);break;case"body":p.body=Ve(k[1],l);break;default:S=!0,O[Ve(k[0],l)]=Ve(k[1],l);break}}S&&(p.headers=O)}p.query=void 0;for(var M=0,Q=m.length;M<Q;++M){var z=m[M].split("@");if(z[0]=Ve(z[0]),l.unicodeSupport)z[1]=Ve(z[1],l).toLowerCase();else try{z[1]=dt.toASCII(Ve(z[1],l).toLowerCase())}catch(et){p.error=p.error||"Email address's domain name can not be converted to ASCII via punycode: "+et}m[M]=z.join("@")}return p},serialize:function(i,l){var p=i,m=a(i.to);if(m){for(var S=0,O=m.length;S<O;++S){var A=String(m[S]),F=A.lastIndexOf("@"),Y=A.slice(0,F).replace(pt,Br).replace(pt,s).replace(Hi,Te),k=A.slice(F+1);try{k=l.iri?dt.toUnicode(k):dt.toASCII(Ve(k,l).toLowerCase())}catch(M){p.error=p.error||"Email address's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+M}m[S]=Y+"@"+k}p.path=m.join(",")}var W=i.headers=i.headers||{};i.subject&&(W.subject=i.subject),i.body&&(W.body=i.body);var Z=[];for(var J in W)W[J]!==Mi[J]&&Z.push(J.replace(pt,Br).replace(pt,s).replace(zs,Te)+"="+W[J].replace(pt,Br).replace(pt,s).replace(Gi,Te));return Z.length&&(p.query=Z.join("&")),p}},Ji=/^([^\:]+)\:(.*)/,Ks={scheme:"urn",parse:function(i,l){var p=i.path&&i.path.match(Ji),m=i;if(p){var S=l.scheme||m.scheme||"urn",O=p[1].toLowerCase(),A=p[2],F=S+":"+(l.nid||O),Y=ye[F];m.nid=O,m.nss=A,m.path=void 0,Y&&(m=Y.parse(m,l))}else m.error=m.error||"URN can not be parsed.";return m},serialize:function(i,l){var p=l.scheme||i.scheme||"urn",m=i.nid,S=p+":"+(l.nid||m),O=ye[S];O&&(i=O.serialize(i,l));var A=i,F=i.nss;return A.path=(m||l.nid)+":"+F,A}},Bi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,xs={scheme:"urn:uuid",parse:function(i,l){var p=i;return p.uuid=p.nss,p.nss=void 0,!l.tolerant&&(!p.uuid||!p.uuid.match(Bi))&&(p.error=p.error||"UUID is not valid."),p},serialize:function(i,l){var p=i;return p.nss=(i.uuid||"").toLowerCase(),p}};ye[kt.scheme]=kt,ye[Ms.scheme]=Ms,ye[Dt.scheme]=Dt,ye[Fs.scheme]=Fs,ye[Ls.scheme]=Ls,ye[Ks.scheme]=Ks,ye[xs.scheme]=xs,t.SCHEMES=ye,t.pctEncChar=Te,t.pctDecChars=ft,t.parse=Me,t.removeDotSegments=ht,t.serialize=Ce,t.resolveComponents=As,t.resolve=qi,t.normalize=ki,t.equal=Di,t.escapeComponent=Ai,t.unescapeComponent=Ve,Object.defineProperty(t,"__esModule",{value:!0})})});var Jt=b(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.getSchemaRefs=de.resolveUrl=de.normalizeId=de._getFullPath=de.getFullPath=de.inlineRef=void 0;var Iu=V(),ju=_n(),qu=La(),Pr=$n(),ku=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Du(t,e=!0){return typeof t=="boolean"?!0:e===!0?!wn(t):e?xa(t)<=e:!1}de.inlineRef=Du;var Au=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function wn(t){for(let e in t){if(Au.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(wn)||typeof r=="object"&&wn(r))return!0}return!1}function xa(t){let e=0;for(let r in t){if(r==="$ref")return Infinity;if(e++,!ku.has(r)&&(typeof t[r]=="object"&&Iu.eachItem(t[r],n=>e+=xa(n)),e===Infinity))return Infinity}return e}function Ha(t="",e){e!==!1&&(t=Ot(t));let r=Pr.parse(t);return Ga(r)}de.getFullPath=Ha;function Ga(t){return Pr.serialize(t).split("#")[0]+"#"}de._getFullPath=Ga;var Mu=/#\/?$/;function Ot(t){return t?t.replace(Mu,""):""}de.normalizeId=Ot;function Vu(t,e){return e=Ot(e),Pr.resolve(t,e)}de.resolveUrl=Vu;var Fu=/^[a-z_][-a-z0-9._]*$/i;function Uu(t){if(typeof t=="boolean")return{};let{schemaId:e}=this.opts,r=Ot(t[e]),n={"":r},s=Ha(r,!1),a={},o=new Set;return qu(t,{allKeys:!0},(f,h,y,w)=>{if(w===void 0)return;let _=s+h,v=n[w];typeof f[e]=="string"&&(v=$.call(this,f[e])),E.call(this,f.$anchor),E.call(this,f.$dynamicAnchor),n[h]=v;function $(g){if(g=Ot(v?Pr.resolve(v,g):g),o.has(g))throw d(g);o.add(g);let C=this.refs[g];return typeof C=="string"&&(C=this.refs[C]),typeof C=="object"?c(f,C.schema,g):g!==Ot(_)&&(g[0]==="#"?(c(f,a[g],g),a[g]=f):this.refs[g]=_),g}function E(g){if(typeof g=="string"){if(!Fu.test(g))throw new Error(`invalid anchor "${g}"`);$.call(this,`#${g}`)}}}),a;function c(f,h,y){if(h!==void 0&&!ju(f,h))throw d(y)}function d(f){return new Error(`reference "${f}" resolves to more than one schema`)}}de.getSchemaRefs=Uu});var Qt=b(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.getData=Xe.KeywordCxt=Xe.validateFunctionCode=void 0;var Ja=Pa(),Ba=Gt(),En=fn(),Nr=Gt(),zu=ja(),Bt=Ma(),Sn=Fa(),P=j(),N=Le(),Lu=Jt(),Ke=V(),Wt=xt();function Ku(t){if(Ya(t)&&(Za(t),Xa(t))){Gu(t);return}Wa(t,()=>Ja.topBoolOrEmptySchema(t))}Xe.validateFunctionCode=Ku;function Wa({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},a){s.code.es5?t.func(e,P._`${N.default.data}, ${N.default.valCxt}`,n.$async,()=>{t.code(P._`"use strict"; ${Qa(r,s)}`),Hu(t,s),t.code(a)}):t.func(e,P._`${N.default.data}, ${xu(s)}`,n.$async,()=>t.code(Qa(r,s)).code(a))}function xu(t){return P._`{${N.default.instancePath}="", ${N.default.parentData}, ${N.default.parentDataProperty}, ${N.default.rootData}=${N.default.data}${t.dynamicRef?P._`, ${N.default.dynamicAnchors}={}`:P.nil}}={}`}function Hu(t,e){t.if(N.default.valCxt,()=>{t.var(N.default.instancePath,P._`${N.default.valCxt}.${N.default.instancePath}`),t.var(N.default.parentData,P._`${N.default.valCxt}.${N.default.parentData}`),t.var(N.default.parentDataProperty,P._`${N.default.valCxt}.${N.default.parentDataProperty}`),t.var(N.default.rootData,P._`${N.default.valCxt}.${N.default.rootData}`),e.dynamicRef&&t.var(N.default.dynamicAnchors,P._`${N.default.valCxt}.${N.default.dynamicAnchors}`)},()=>{t.var(N.default.instancePath,P._`""`),t.var(N.default.parentData,P._`undefined`),t.var(N.default.parentDataProperty,P._`undefined`),t.var(N.default.rootData,N.default.data),e.dynamicRef&&t.var(N.default.dynamicAnchors,P._`{}`)})}function Gu(t){let{schema:e,opts:r,gen:n}=t;Wa(t,()=>{r.$comment&&e.$comment&&to(t),Xu(t),n.let(N.default.vErrors,null),n.let(N.default.errors,0),r.unevaluated&&Ju(t),eo(t),el(t)})}function Ju(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",P._`${r}.evaluated`),e.if(P._`${t.evaluated}.dynamicProps`,()=>e.assign(P._`${t.evaluated}.props`,P._`undefined`)),e.if(P._`${t.evaluated}.dynamicItems`,()=>e.assign(P._`${t.evaluated}.items`,P._`undefined`))}function Qa(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?P._`/*# sourceURL=${r} */`:P.nil}function Bu(t,e){if(Ya(t)&&(Za(t),Xa(t))){Wu(t,e);return}Ja.boolOrEmptySchema(t,e)}function Xa({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Ya(t){return typeof t.schema!="boolean"}function Wu(t,e){let{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&to(t),Yu(t),Zu(t);let a=n.const("_errs",N.default.errors);eo(t,a),n.var(e,P._`${a} === ${N.default.errors}`)}function Za(t){Ke.checkUnknownRules(t),Qu(t)}function eo(t,e){if(t.opts.jtd)return ro(t,[],!1,e);let r=Ba.getSchemaTypes(t.schema),n=Ba.coerceAndCheckDataType(t,r);ro(t,r,!n,e)}function Qu(t){let{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&Ke.schemaHasRulesButRef(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Xu(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&Ke.checkStrictMode(t,"default is ignored in the schema root")}function Yu(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=Lu.resolveUrl(t.baseId,e))}function Zu(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function to({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){let a=r.$comment;if(s.$comment===!0)t.code(P._`${N.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){let o=P.str`${n}/$comment`,c=t.scopeValue("root",{ref:e.root});t.code(P._`${N.default.self}.opts.$comment(${a}, ${o}, ${c}.schema)`)}}function el(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=t;r.$async?e.if(P._`${N.default.errors} === 0`,()=>e.return(N.default.data),()=>e.throw(P._`new ${s}(${N.default.vErrors})`)):(e.assign(P._`${n}.errors`,N.default.vErrors),a.unevaluated&&tl(t),e.return(P._`${N.default.errors} === 0`))}function tl({gen:t,evaluated:e,props:r,items:n}){r instanceof P.Name&&t.assign(P._`${e}.props`,r),n instanceof P.Name&&t.assign(P._`${e}.items`,n)}function ro(t,e,r,n){let{gen:s,schema:a,data:o,allErrors:c,opts:d,self:f}=t,{RULES:h}=f;if(a.$ref&&(d.ignoreKeywordsWithRef||!Ke.schemaHasRulesButRef(a,h))){s.block(()=>ao(t,"$ref",h.all.$ref.definition));return}d.jtd||rl(t,e),s.block(()=>{for(let w of h.rules)y(w);y(h.post)});function y(w){!En.shouldUseGroup(a,w)||(w.type?(s.if(Nr.checkDataType(w.type,o,d.strictNumbers)),no(t,w),e.length===1&&e[0]===w.type&&r&&(s.else(),Nr.reportTypeError(t)),s.endIf()):no(t,w),c||s.if(P._`${N.default.errors} === ${n||0}`))}}function no(t,e){let{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&zu.assignDefaults(t,e.type),r.block(()=>{for(let a of e.rules)En.shouldUseRule(n,a)&&ao(t,a.keyword,a.definition,e.type)})}function rl(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(nl(t,e),t.opts.allowUnionTypes||sl(t,e),al(t,t.dataTypes))}function nl(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{so(t.dataTypes,r)||bn(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>so(e,r))}}function sl(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&bn(t,"use allowUnionTypes to allow union type keyword")}function al(t,e){let r=t.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&En.shouldUseRule(t.schema,s)){let{type:a}=s.definition;a.length&&!a.some(o=>ol(e,o))&&bn(t,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function ol(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function so(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function bn(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,Ke.checkStrictMode(t,e,t.opts.strictTypes)}var Pn=class{constructor(e,r,n){if(Bt.validateKeywordUsage(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=Ke.schemaRefOrVal(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",oo(this.$data,e));else if(this.schemaCode=this.schemaValue,!Bt.validSchemaType(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",N.default.errors))}result(e,r,n){this.failResult(P.not(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult(P.not(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail(P._`${r} !== undefined && (${P.or(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Wt.reportExtraError:Wt.reportError)(this,this.def.error,r)}$dataError(){Wt.reportError(this,this.def.$dataError||Wt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');Wt.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=P.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=P.nil,r=P.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if(P.or(P._`${s} === undefined`,r)),e!==P.nil&&n.assign(e,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==P.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:s,it:a}=this;return P.or(o(),c());function o(){if(n.length){if(!(r instanceof P.Name))throw new Error("ajv implementation error");let d=Array.isArray(n)?n:[n];return P._`${Nr.checkDataTypes(d,r,a.opts.strictNumbers,Nr.DataType.Wrong)}`}return P.nil}function c(){if(s.validateSchema){let d=e.scopeValue("validate$data",{ref:s.validateSchema});return P._`!${d}(${r})`}return P.nil}}subschema(e,r){let n=Sn.getSubschema(this.it,e);Sn.extendSubschemaData(n,this.it,e),Sn.extendSubschemaMode(n,e);let s={...this.it,...n,items:void 0,props:void 0};return Bu(s,r),s}mergeEvaluated(e,r){let{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=Ke.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Ke.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,P.Name)),!0}};Xe.KeywordCxt=Pn;function ao(t,e,r,n){let s=new Pn(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?Bt.funcKeywordCode(s,r):"macro"in r?Bt.macroKeywordCode(s,r):(r.compile||r.validate)&&Bt.funcKeywordCode(s,r)}var il=/^\/(?:[^~]|~0|~1)*$/,cl=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function oo(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,a;if(t==="")return N.default.rootData;if(t[0]==="/"){if(!il.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,a=N.default.rootData}else{let f=cl.exec(t);if(!f)throw new Error(`Invalid JSON-pointer: ${t}`);let h=+f[1];if(s=f[2],s==="#"){if(h>=e)throw new Error(d("property/index",h));return n[e-h]}if(h>e)throw new Error(d("data",h));if(a=r[e-h],!s)return a}let o=a,c=s.split("/");for(let f of c)f&&(a=P._`${a}${P.getProperty(Ke.unescapeJsonPointer(f))}`,o=P._`${o} && ${a}`);return o;function d(f,h){return`Cannot access ${f} ${h} levels up, current level is ${e}`}}Xe.getData=oo});var On=b(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});var io=class extends Error{constructor(e){super("validation failed");this.errors=e,this.ajv=this.validation=!0}};Nn.default=io});var Rn=b(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});var Tn=Jt(),co=class extends Error{constructor(e,r,n){super(n||`can't resolve reference ${r} from id ${e}`);this.missingRef=Tn.resolveUrl(e,r),this.missingSchema=Tn.normalizeId(Tn.getFullPath(this.missingRef))}};Cn.default=co});var qn=b($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.resolveSchema=$e.getCompilingSchema=$e.resolveRef=$e.compileSchema=$e.SchemaEnv=void 0;var Ee=j(),ul=On(),ot=Le(),Se=Jt(),uo=V(),ll=Qt(),dl=$n(),Xt=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:Se.normalizeId(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};$e.SchemaEnv=Xt;function In(t){let e=lo.call(this,t);if(e)return e;let r=Se.getFullPath(t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Ee.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a}),c;t.$async&&(c=o.scopeValue("Error",{ref:ul.default,code:Ee._`require("ajv/dist/runtime/validation_error").default`}));let d=o.scopeName("validate");t.validateName=d;let f={gen:o,allErrors:this.opts.allErrors,data:ot.default.data,parentData:ot.default.parentData,parentDataProperty:ot.default.parentDataProperty,dataNames:[ot.default.data],dataPathArr:[Ee.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:Ee.stringify(t.schema)}:{ref:t.schema}),validateName:d,ValidationError:c,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Ee.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:Ee._`""`,opts:this.opts,self:this},h;try{this._compilations.add(t),ll.validateFunctionCode(f),o.optimize(this.opts.code.optimize);let y=o.toString();h=`${o.scopeRefs(ot.default.scope)}return ${y}`,this.opts.code.process&&(h=this.opts.code.process(h,t));let _=new Function(`${ot.default.self}`,`${ot.default.scope}`,h)(this,this.scope.get());if(this.scope.value(d,{ref:_}),_.errors=null,_.schema=t.schema,_.schemaEnv=t,t.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:d,validateCode:y,scopeValues:o._values}),this.opts.unevaluated){let{props:v,items:$}=f;_.evaluated={props:v instanceof Ee.Name?void 0:v,items:$ instanceof Ee.Name?void 0:$,dynamicProps:v instanceof Ee.Name,dynamicItems:$ instanceof Ee.Name},_.source&&(_.source.evaluated=Ee.stringify(_.evaluated))}return t.validate=_,t}catch(y){throw delete t.validate,delete t.validateName,h&&this.logger.error("Error compiling schema, function code:",h),y}finally{this._compilations.delete(t)}}$e.compileSchema=In;function fl(t,e,r){var n;r=Se.resolveUrl(e,r);let s=t.refs[r];if(s)return s;let a=ml.call(this,t,r);if(a===void 0){let o=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:c}=this.opts;o&&(a=new Xt({schema:o,schemaId:c,root:t,baseId:e}))}if(a!==void 0)return t.refs[r]=hl.call(this,a)}$e.resolveRef=fl;function hl(t){return Se.inlineRef(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:In.call(this,t)}function lo(t){for(let e of this._compilations)if(pl(e,t))return e}$e.getCompilingSchema=lo;function pl(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function ml(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Or.call(this,t,e)}function Or(t,e){let r=dl.parse(e),n=Se._getFullPath(r),s=Se.getFullPath(t.baseId);if(Object.keys(t.schema).length>0&&n===s)return jn.call(this,r,t);let a=Se.normalizeId(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){let c=Or.call(this,t,o);return typeof(c==null?void 0:c.schema)!="object"?void 0:jn.call(this,r,c)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||In.call(this,o),a===Se.normalizeId(e)){let{schema:c}=o,{schemaId:d}=this.opts,f=c[d];return f&&(s=Se.resolveUrl(s,f)),new Xt({schema:c,schemaId:d,root:t,baseId:s})}return jn.call(this,r,o)}}$e.resolveSchema=Or;var yl=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function jn(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let c of t.fragment.slice(1).split("/")){if(typeof r=="boolean"||(r=r[uo.unescapeFragment(c)],r===void 0))return;let d=typeof r=="object"&&r[this.opts.schemaId];!yl.has(c)&&d&&(e=Se.resolveUrl(e,d))}let a;if(typeof r!="boolean"&&r.$ref&&!uo.schemaHasRulesButRef(r,this.RULES)){let c=Se.resolveUrl(e,r.$ref);a=Or.call(this,n,c)}let{schemaId:o}=this.opts;if(a=a||new Xt({schema:r,schemaId:o,root:n,baseId:e}),a.schema!==a.root.schema)return a}});var fo=b((Ch,vl)=>{vl.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var _o=b(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.CodeGen=ne.Name=ne.nil=ne.stringify=ne.str=ne._=ne.KeywordCxt=void 0;var gl=Qt();Object.defineProperty(ne,"KeywordCxt",{enumerable:!0,get:function(){return gl.KeywordCxt}});var Tt=j();Object.defineProperty(ne,"_",{enumerable:!0,get:function(){return Tt._}});Object.defineProperty(ne,"str",{enumerable:!0,get:function(){return Tt.str}});Object.defineProperty(ne,"stringify",{enumerable:!0,get:function(){return Tt.stringify}});Object.defineProperty(ne,"nil",{enumerable:!0,get:function(){return Tt.nil}});Object.defineProperty(ne,"Name",{enumerable:!0,get:function(){return Tt.Name}});Object.defineProperty(ne,"CodeGen",{enumerable:!0,get:function(){return Tt.CodeGen}});var _l=On(),ho=Rn(),$l=dn(),Yt=qn(),wl=j(),Zt=Jt(),Tr=Gt(),kn=V(),po=fo(),El=["removeAdditional","useDefaults","coerceTypes"],Sl=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),bl={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Pl={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},mo=200;function Nl(t){var e,r,n,s,a,o,c,d,f,h,y,w,_,v,$,E,g,C,te,K,x,me;let Ne=t.strict,qt=(e=t.code)===null||e===void 0?void 0:e.optimize,lt=qt===!0||qt===void 0?1:qt||0;return{strictSchema:(n=(r=t.strictSchema)!==null&&r!==void 0?r:Ne)!==null&&n!==void 0?n:!0,strictNumbers:(a=(s=t.strictNumbers)!==null&&s!==void 0?s:Ne)!==null&&a!==void 0?a:!0,strictTypes:(c=(o=t.strictTypes)!==null&&o!==void 0?o:Ne)!==null&&c!==void 0?c:"log",strictTuples:(f=(d=t.strictTuples)!==null&&d!==void 0?d:Ne)!==null&&f!==void 0?f:"log",strictRequired:(y=(h=t.strictRequired)!==null&&h!==void 0?h:Ne)!==null&&y!==void 0?y:!1,code:t.code?{...t.code,optimize:lt}:{optimize:lt},loopRequired:(w=t.loopRequired)!==null&&w!==void 0?w:mo,loopEnum:(_=t.loopEnum)!==null&&_!==void 0?_:mo,meta:(v=t.meta)!==null&&v!==void 0?v:!0,messages:($=t.messages)!==null&&$!==void 0?$:!0,inlineRefs:(E=t.inlineRefs)!==null&&E!==void 0?E:!0,schemaId:(g=t.schemaId)!==null&&g!==void 0?g:"$id",addUsedSchema:(C=t.addUsedSchema)!==null&&C!==void 0?C:!0,validateSchema:(te=t.validateSchema)!==null&&te!==void 0?te:!0,validateFormats:(K=t.validateFormats)!==null&&K!==void 0?K:!0,unicodeRegExp:(x=t.unicodeRegExp)!==null&&x!==void 0?x:!0,int32range:(me=t.int32range)!==null&&me!==void 0?me:!0}}var Cr=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...Nl(e)};let{es5:r,lines:n}=this.opts.code;this.scope=new wl.ValueScope({scope:{},prefixes:Sl,es5:r,lines:n}),this.logger=jl(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=$l.getRules(),yo.call(this,bl,e,"NOT SUPPORTED"),yo.call(this,Pl,e,"DEPRECATED","warn"),this._metaOpts=Rl.call(this),e.formats&&Tl.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Cl.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Ol.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,s=po;n==="id"&&(s={...po},s.id=s.$id,delete s.$id),r&&e&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,e,r);async function s(h,y){await a.call(this,h.$schema);let w=this._addSchema(h,y);return w.validate||o.call(this,w)}async function a(h){h&&!this.getSchema(h)&&await s.call(this,{$ref:h},!0)}async function o(h){try{return this._compileSchemaEnv(h)}catch(y){if(!(y instanceof ho.default))throw y;return c.call(this,y),await d.call(this,y.missingSchema),o.call(this,h)}}function c({missingSchema:h,missingRef:y}){if(this.refs[h])throw new Error(`AnySchema ${h} is loaded but ${y} cannot be resolved`)}async function d(h){let y=await f.call(this,h);this.refs[h]||await a.call(this,y.$schema),this.refs[h]||this.addSchema(y,h,r)}async function f(h){let y=this._loading[h];if(y)return y;try{return await(this._loading[h]=n(h))}finally{delete this._loading[h]}}}addSchema(e,r,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,n,s);return this}let a;if(typeof e=="object"){let{schemaId:o}=this.opts;if(a=e[o],a!==void 0&&typeof a!="string")throw new Error(`schema ${o} must be string`)}return r=Zt.normalizeId(r||a),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,s,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,e);if(!s&&r){let a="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(a);else throw new Error(a)}return s}getSchema(e){let r;for(;typeof(r=vo.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,s=new Yt.SchemaEnv({schema:{},schemaId:n});if(r=Yt.resolveSchema.call(this,s,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=vo.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=Zt.normalizeId(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(kl.call(this,n,r),!r)return kn.eachItem(n,a=>Dn.call(this,a)),this;Al.call(this,r);let s={...r,type:Tr.getJSONTypes(r.type),schemaType:Tr.getJSONTypes(r.schemaType)};return kn.eachItem(n,s.type.length===0?a=>Dn.call(this,a,s):a=>s.type.forEach(o=>Dn.call(this,a,s,o))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let s=n.rules.findIndex(a=>a.keyword===e);s>=0&&n.rules.splice(s,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,a)=>s+r+a)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of r){let a=s.split("/").slice(1),o=e;for(let c of a)o=o[c];for(let c in n){let d=n[c];if(typeof d!="object")continue;let{$data:f}=d.definition,h=o[c];f&&h&&(o[c]=go(h))}}return e}_removeAllSchemas(e,r){for(let n in e){let s=e[n];(!r||r.test(n))&&(typeof s=="string"?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,r,n,s=this.opts.validateSchema,a=this.opts.addUsedSchema){let o,{schemaId:c}=this.opts;if(typeof e=="object")o=e[c];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let d=this._cache.get(e);if(d!==void 0)return d;let f=Zt.getSchemaRefs.call(this,e);return n=Zt.normalizeId(o||n),d=new Yt.SchemaEnv({schema:e,schemaId:c,meta:r,baseId:n,localRefs:f}),this._cache.set(d.schema,d),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=d),s&&this.validateSchema(e,!0),d}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Yt.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Yt.compileSchema.call(this,e)}finally{this.opts=r}}};ne.default=Cr;Cr.ValidationError=_l.default;Cr.MissingRefError=ho.default;function yo(t,e,r,n="error"){for(let s in t){let a=s;a in e&&this.logger[n](`${r}: option ${s}. ${t[a]}`)}}function vo(t){return t=Zt.normalizeId(t),this.schemas[t]||this.refs[t]}function Ol(){let t=this.opts.schemas;if(!!t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Tl(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Cl(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function Rl(){let t={...this.opts};for(let e of El)delete t[e];return t}var Il={log(){},warn(){},error(){}};function jl(t){if(t===!1)return Il;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var ql=/^[a-z_$][a-z0-9_$:-]*$/i;function kl(t,e){let{RULES:r}=this;if(kn.eachItem(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!ql.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function Dn(t,e,r){var n;let s=e==null?void 0:e.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:a}=this,o=s?a.post:a.rules.find(({type:d})=>d===r);if(o||(o={type:r,rules:[]},a.rules.push(o)),a.keywords[t]=!0,!e)return;let c={keyword:t,definition:{...e,type:Tr.getJSONTypes(e.type),schemaType:Tr.getJSONTypes(e.schemaType)}};e.before?Dl.call(this,o,c,e.before):o.rules.push(c),a.all[t]=c,(n=e.implements)===null||n===void 0||n.forEach(d=>this.addKeyword(d))}function Dl(t,e,r){let n=t.rules.findIndex(s=>s.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function Al(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=go(e)),t.validateSchema=this.compile(e,!0))}var Ml={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function go(t){return{anyOf:[t,Ml]}}});var $o=b(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});var Vl={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};An.default=Vl});var bo=b(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.callRef=it.getValidate=void 0;var Fl=Rn(),wo=_e(),fe=j(),Ct=Le(),Eo=qn(),Rr=V(),Ul={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:a,validateName:o,opts:c,self:d}=n,{root:f}=a;if((r==="#"||r==="#/")&&s===f.baseId)return y();let h=Eo.resolveRef.call(d,f,s,r);if(h===void 0)throw new Fl.default(s,r);if(h instanceof Eo.SchemaEnv)return w(h);return _(h);function y(){if(a===f)return Ir(t,o,a,a.$async);let v=e.scopeValue("root",{ref:f});return Ir(t,fe._`${v}.validate`,f,f.$async)}function w(v){let $=So(t,v);Ir(t,$,v,v.$async)}function _(v){let $=e.scopeValue("schema",c.code.source===!0?{ref:v,code:fe.stringify(v)}:{ref:v}),E=e.name("valid"),g=t.subschema({schema:v,dataTypes:[],schemaPath:fe.nil,topSchemaRef:$,errSchemaPath:r},E);t.mergeEvaluated(g),t.ok(E)}}};function So(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):fe._`${r.scopeValue("wrapper",{ref:e})}.validate`}it.getValidate=So;function Ir(t,e,r,n){let{gen:s,it:a}=t,{allErrors:o,schemaEnv:c,opts:d}=a,f=d.passContext?Ct.default.this:fe.nil;n?h():y();function h(){if(!c.$async)throw new Error("async schema referenced by sync schema");let v=s.let("valid");s.try(()=>{s.code(fe._`await ${wo.callValidateCode(t,e,f)}`),_(e),o||s.assign(v,!0)},$=>{s.if(fe._`!(${$} instanceof ${a.ValidationError})`,()=>s.throw($)),w($),o||s.assign(v,!1)}),t.ok(v)}function y(){t.result(wo.callValidateCode(t,e,f),()=>_(e),()=>w(e))}function w(v){let $=fe._`${v}.errors`;s.assign(Ct.default.vErrors,fe._`${Ct.default.vErrors} === null ? ${$} : ${Ct.default.vErrors}.concat(${$})`),s.assign(Ct.default.errors,fe._`${Ct.default.vErrors}.length`)}function _(v){var $;if(!a.opts.unevaluated)return;let E=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(a.props!==!0)if(E&&!E.dynamicProps)E.props!==void 0&&(a.props=Rr.mergeEvaluated.props(s,E.props,a.props));else{let g=s.var("props",fe._`${v}.evaluated.props`);a.props=Rr.mergeEvaluated.props(s,g,a.props,fe.Name)}if(a.items!==!0)if(E&&!E.dynamicItems)E.items!==void 0&&(a.items=Rr.mergeEvaluated.items(s,E.items,a.items));else{let g=s.var("items",fe._`${v}.evaluated.items`);a.items=Rr.mergeEvaluated.items(s,g,a.items,fe.Name)}}}it.callRef=Ir;it.default=Ul});var Po=b(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});var zl=$o(),Ll=bo(),Kl=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",zl.default,Ll.default];Mn.default=Kl});var No=b(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var jr=j(),Ye=jr.operators,qr={maximum:{okStr:"<=",ok:Ye.LTE,fail:Ye.GT},minimum:{okStr:">=",ok:Ye.GTE,fail:Ye.LT},exclusiveMaximum:{okStr:"<",ok:Ye.LT,fail:Ye.GTE},exclusiveMinimum:{okStr:">",ok:Ye.GT,fail:Ye.LTE}},xl={message:({keyword:t,schemaCode:e})=>jr.str`must be ${qr[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>jr._`{comparison: ${qr[t].okStr}, limit: ${e}}`},Hl={keyword:Object.keys(qr),type:"number",schemaType:"number",$data:!0,error:xl,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data(jr._`${r} ${qr[e].fail} ${n} || isNaN(${r})`)}};Vn.default=Hl});var Oo=b(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var er=j(),Gl={message:({schemaCode:t})=>er.str`must be multiple of ${t}`,params:({schemaCode:t})=>er._`{multipleOf: ${t}}`},Jl={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Gl,code(t){let{gen:e,data:r,schemaCode:n,it:s}=t,a=s.opts.multipleOfPrecision,o=e.let("res"),c=a?er._`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:er._`${o} !== parseInt(${o})`;t.fail$data(er._`(${n} === 0 || (${o} = ${r}/${n}, ${c}))`)}};Fn.default=Jl});var Co=b(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});function To(t){let e=t.length,r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)==56320&&n++);return r}Un.default=To;To.code='require("ajv/dist/runtime/ucs2length").default'});var Ro=b(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});var ct=j(),Bl=V(),Wl=Co(),Ql={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return ct.str`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>ct._`{limit: ${t}}`},Xl={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Ql,code(t){let{keyword:e,data:r,schemaCode:n,it:s}=t,a=e==="maxLength"?ct.operators.GT:ct.operators.LT,o=s.opts.unicode===!1?ct._`${r}.length`:ct._`${Bl.useFunc(t.gen,Wl.default)}(${r})`;t.fail$data(ct._`${o} ${a} ${n}`)}};zn.default=Xl});var Io=b(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});var Yl=_e(),kr=j(),Zl={message:({schemaCode:t})=>kr.str`must match pattern "${t}"`,params:({schemaCode:t})=>kr._`{pattern: ${t}}`},ed={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Zl,code(t){let{data:e,$data:r,schema:n,schemaCode:s,it:a}=t,o=a.opts.unicodeRegExp?"u":"",c=r?kr._`(new RegExp(${s}, ${o}))`:Yl.usePattern(t,n);t.fail$data(kr._`!${c}.test(${e})`)}};Ln.default=ed});var jo=b(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});var tr=j(),td={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return tr.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>tr._`{limit: ${t}}`},rd={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:td,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?tr.operators.GT:tr.operators.LT;t.fail$data(tr._`Object.keys(${r}).length ${s} ${n}`)}};Kn.default=rd});var qo=b(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var rr=_e(),nr=j(),nd=V(),sd={message:({params:{missingProperty:t}})=>nr.str`must have required property '${t}'`,params:({params:{missingProperty:t}})=>nr._`{missingProperty: ${t}}`},ad={keyword:"required",type:"object",schemaType:"array",$data:!0,error:sd,code(t){let{gen:e,schema:r,schemaCode:n,data:s,$data:a,it:o}=t,{opts:c}=o;if(!a&&r.length===0)return;let d=r.length>=c.loopRequired;if(o.allErrors?f():h(),c.strictRequired){let _=t.parentSchema.properties,{definedProperties:v}=t.it;for(let $ of r)if((_==null?void 0:_[$])===void 0&&!v.has($)){let E=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${$}" is not defined at "${E}" (strictRequired)`;nd.checkStrictMode(o,g,o.opts.strictRequired)}}function f(){if(d||a)t.block$data(nr.nil,y);else for(let _ of r)rr.checkReportMissingProp(t,_)}function h(){let _=e.let("missing");if(d||a){let v=e.let("valid",!0);t.block$data(v,()=>w(_,v)),t.ok(v)}else e.if(rr.checkMissingProp(t,r,_)),rr.reportMissingProp(t,_),e.else()}function y(){e.forOf("prop",n,_=>{t.setParams({missingProperty:_}),e.if(rr.noPropertyInData(e,s,_,c.ownProperties),()=>t.error())})}function w(_,v){t.setParams({missingProperty:_}),e.forOf(_,n,()=>{e.assign(v,rr.propertyInData(e,s,_,c.ownProperties)),e.if(nr.not(v),()=>{t.error(),e.break()})},nr.nil)}}};xn.default=ad});var ko=b(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});var sr=j(),od={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return sr.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>sr._`{limit: ${t}}`},id={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:od,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?sr.operators.GT:sr.operators.LT;t.fail$data(sr._`${r}.length ${s} ${n}`)}};Hn.default=id});var Dr=b(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});var Do=_n();Do.code='require("ajv/dist/runtime/equal").default';Gn.default=Do});var Ao=b(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});var Jn=Gt(),se=j(),cd=V(),ud=Dr(),ld={message:({params:{i:t,j:e}})=>se.str`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>se._`{i: ${t}, j: ${e}}`},dd={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:ld,code(t){let{gen:e,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:c}=t;if(!n&&!s)return;let d=e.let("valid"),f=a.items?Jn.getSchemaTypes(a.items):[];t.block$data(d,h,se._`${o} === false`),t.ok(d);function h(){let v=e.let("i",se._`${r}.length`),$=e.let("j");t.setParams({i:v,j:$}),e.assign(d,!0),e.if(se._`${v} > 1`,()=>(y()?w:_)(v,$))}function y(){return f.length>0&&!f.some(v=>v==="object"||v==="array")}function w(v,$){let E=e.name("item"),g=Jn.checkDataTypes(f,E,c.opts.strictNumbers,Jn.DataType.Wrong),C=e.const("indices",se._`{}`);e.for(se._`;${v}--;`,()=>{e.let(E,se._`${r}[${v}]`),e.if(g,se._`continue`),f.length>1&&e.if(se._`typeof ${E} == "string"`,se._`${E} += "_"`),e.if(se._`typeof ${C}[${E}] == "number"`,()=>{e.assign($,se._`${C}[${E}]`),t.error(),e.assign(d,!1).break()}).code(se._`${C}[${E}] = ${v}`)})}function _(v,$){let E=cd.useFunc(e,ud.default),g=e.name("outer");e.label(g).for(se._`;${v}--;`,()=>e.for(se._`${$} = ${v}; ${$}--;`,()=>e.if(se._`${E}(${r}[${v}], ${r}[${$}])`,()=>{t.error(),e.assign(d,!1).break(g)})))}}};Bn.default=dd});var Mo=b(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var Wn=j(),fd=V(),hd=Dr(),pd={message:"must be equal to constant",params:({schemaCode:t})=>Wn._`{allowedValue: ${t}}`},md={keyword:"const",$data:!0,error:pd,code(t){let{gen:e,data:r,$data:n,schemaCode:s,schema:a}=t;n||a&&typeof a=="object"?t.fail$data(Wn._`!${fd.useFunc(e,hd.default)}(${r}, ${s})`):t.fail(Wn._`${a} !== ${r}`)}};Qn.default=md});var Vo=b(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});var ar=j(),yd=V(),vd=Dr(),gd={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>ar._`{allowedValues: ${t}}`},_d={keyword:"enum",schemaType:"array",$data:!0,error:gd,code(t){let{gen:e,data:r,$data:n,schema:s,schemaCode:a,it:o}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let c=s.length>=o.opts.loopEnum,d=yd.useFunc(e,vd.default),f;if(c||n)f=e.let("valid"),t.block$data(f,h);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let w=e.const("vSchema",a);f=ar.or(...s.map((_,v)=>y(w,v)))}t.pass(f);function h(){e.assign(f,!1),e.forOf("v",a,w=>e.if(ar._`${d}(${r}, ${w})`,()=>e.assign(f,!0).break()))}function y(w,_){let v=s[_];return typeof v=="object"&&v!==null?ar._`${d}(${r}, ${w}[${_}])`:ar._`${r} === ${v}`}}};Xn.default=_d});var Fo=b(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var $d=No(),wd=Oo(),Ed=Ro(),Sd=Io(),bd=jo(),Pd=qo(),Nd=ko(),Od=Ao(),Td=Mo(),Cd=Vo(),Rd=[$d.default,wd.default,Ed.default,Sd.default,bd.default,Pd.default,Nd.default,Od.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Td.default,Cd.default];Yn.default=Rd});var es=b(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.validateAdditionalItems=void 0;var ut=j(),Zn=V(),Id={message:({params:{len:t}})=>ut.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>ut._`{limit: ${t}}`},jd={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Id,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){Zn.checkStrictMode(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Uo(t,n)}};function Uo(t,e){let{gen:r,schema:n,data:s,keyword:a,it:o}=t;o.items=!0;let c=r.const("len",ut._`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass(ut._`${c} <= ${e.length}`);else if(typeof n=="object"&&!Zn.alwaysValidSchema(o,n)){let f=r.var("valid",ut._`${c} <= ${e.length}`);r.if(ut.not(f),()=>d(f)),t.ok(f)}function d(f){r.forRange("i",e.length,c,h=>{t.subschema({keyword:a,dataProp:h,dataPropType:Zn.Type.Num},f),o.allErrors||r.if(ut.not(f),()=>r.break())})}}or.validateAdditionalItems=Uo;or.default=jd});var ts=b(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.validateTuple=void 0;var zo=j(),Ar=V(),qd=_e(),kd={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return Lo(t,"additionalItems",e);r.items=!0,!Ar.alwaysValidSchema(r,e)&&t.ok(qd.validateArray(t))}};function Lo(t,e,r=t.schema){let{gen:n,parentSchema:s,data:a,keyword:o,it:c}=t;h(s),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=Ar.mergeEvaluated.items(n,r.length,c.items));let d=n.name("valid"),f=n.const("len",zo._`${a}.length`);r.forEach((y,w)=>{Ar.alwaysValidSchema(c,y)||(n.if(zo._`${f} > ${w}`,()=>t.subschema({keyword:o,schemaProp:w,dataProp:w},d)),t.ok(d))});function h(y){let{opts:w,errSchemaPath:_}=c,v=r.length,$=v===y.minItems&&(v===y.maxItems||y[e]===!1);if(w.strictTuples&&!$){let E=`"${o}" is ${v}-tuple, but minItems or maxItems/${e} are not specified or different at path "${_}"`;Ar.checkStrictMode(c,E,w.strictTuples)}}}ir.validateTuple=Lo;ir.default=kd});var Ko=b(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});var Dd=ts(),Ad={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>Dd.validateTuple(t,"items")};rs.default=Ad});var Ho=b(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});var xo=j(),Md=V(),Vd=_e(),Fd=es(),Ud={message:({params:{len:t}})=>xo.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>xo._`{limit: ${t}}`},zd={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ud,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!Md.alwaysValidSchema(n,e)&&(s?Fd.validateAdditionalItems(t,s):t.ok(Vd.validateArray(t)))}};ns.default=zd});var Go=b(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});var be=j(),Mr=V(),Ld={message:({params:{min:t,max:e}})=>e===void 0?be.str`must contain at least ${t} valid item(s)`:be.str`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?be._`{minContains: ${t}}`:be._`{minContains: ${t}, maxContains: ${e}}`},Kd={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Ld,code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:a}=t,o,c,{minContains:d,maxContains:f}=n;a.opts.next?(o=d===void 0?1:d,c=f):o=1;let h=e.const("len",be._`${s}.length`);if(t.setParams({min:o,max:c}),c===void 0&&o===0){Mr.checkStrictMode(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&o>c){Mr.checkStrictMode(a,'"minContains" > "maxContains" is always invalid'),t.fail();return}if(Mr.alwaysValidSchema(a,r)){let v=be._`${h} >= ${o}`;c!==void 0&&(v=be._`${v} && ${h} <= ${c}`),t.pass(v);return}a.items=!0;let y=e.name("valid");if(c===void 0&&o===1)w(y,()=>e.if(y,()=>e.break()));else{e.let(y,!1);let v=e.name("_valid"),$=e.let("count",0);w(v,()=>e.if(v,()=>_($)))}t.result(y,()=>t.reset());function w(v,$){e.forRange("i",0,h,E=>{t.subschema({keyword:"contains",dataProp:E,dataPropType:Mr.Type.Num,compositeRule:!0},v),$()})}function _(v){e.code(be._`${v}++`),c===void 0?e.if(be._`${v} >= ${o}`,()=>e.assign(y,!0).break()):(e.if(be._`${v} > ${c}`,()=>e.assign(y,!1).break()),o===1?e.assign(y,!0):e.if(be._`${v} >= ${o}`,()=>e.assign(y,!0)))}}};ss.default=Kd});var Wo=b(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.validateSchemaDeps=Ae.validatePropertyDeps=Ae.error=void 0;var as=j(),xd=V(),cr=_e();Ae.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return as.str`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>as._`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var Hd={keyword:"dependencies",type:"object",schemaType:"object",error:Ae.error,code(t){let[e,r]=Gd(t);Jo(t,e),Bo(t,r)}};function Gd({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let s=Array.isArray(t[n])?e:r;s[n]=t[n]}return[e,r]}function Jo(t,e=t.schema){let{gen:r,data:n,it:s}=t;if(Object.keys(e).length===0)return;let a=r.let("missing");for(let o in e){let c=e[o];if(c.length===0)continue;let d=cr.propertyInData(r,n,o,s.opts.ownProperties);t.setParams({property:o,depsCount:c.length,deps:c.join(", ")}),s.allErrors?r.if(d,()=>{for(let f of c)cr.checkReportMissingProp(t,f)}):(r.if(as._`${d} && (${cr.checkMissingProp(t,c,a)})`),cr.reportMissingProp(t,a),r.else())}}Ae.validatePropertyDeps=Jo;function Bo(t,e=t.schema){let{gen:r,data:n,keyword:s,it:a}=t,o=r.name("valid");for(let c in e)xd.alwaysValidSchema(a,e[c])||(r.if(cr.propertyInData(r,n,c,a.opts.ownProperties),()=>{let d=t.subschema({keyword:s,schemaProp:c},o);t.mergeValidEvaluated(d,o)},()=>r.var(o,!0)),t.ok(o))}Ae.validateSchemaDeps=Bo;Ae.default=Hd});var Xo=b(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});var Qo=j(),Jd=V(),Bd={message:"property name must be valid",params:({params:t})=>Qo._`{propertyName: ${t.propertyName}}`},Wd={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Bd,code(t){let{gen:e,schema:r,data:n,it:s}=t;if(Jd.alwaysValidSchema(s,r))return;let a=e.name("valid");e.forIn("key",n,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),e.if(Qo.not(a),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(a)}};os.default=Wd});var cs=b(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});var Vr=_e(),Pe=j(),Qd=Le(),Fr=V(),Xd={message:"must NOT have additional properties",params:({params:t})=>Pe._`{additionalProperty: ${t.additionalProperty}}`},Yd={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Xd,code(t){let{gen:e,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=t;if(!a)throw new Error("ajv implementation error");let{allErrors:c,opts:d}=o;if(o.props=!0,d.removeAdditional!=="all"&&Fr.alwaysValidSchema(o,r))return;let f=Vr.allSchemaProperties(n.properties),h=Vr.allSchemaProperties(n.patternProperties);y(),t.ok(Pe._`${a} === ${Qd.default.errors}`);function y(){e.forIn("key",s,E=>{!f.length&&!h.length?v(E):e.if(w(E),()=>v(E))})}function w(E){let g;if(f.length>8){let C=Fr.schemaRefOrVal(o,n.properties,"properties");g=Vr.isOwnProperty(e,C,E)}else f.length?g=Pe.or(...f.map(C=>Pe._`${E} === ${C}`)):g=Pe.nil;return h.length&&(g=Pe.or(g,...h.map(C=>Pe._`${Vr.usePattern(t,C)}.test(${E})`))),Pe.not(g)}function _(E){e.code(Pe._`delete ${s}[${E}]`)}function v(E){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){_(E);return}if(r===!1){t.setParams({additionalProperty:E}),t.error(),c||e.break();return}if(typeof r=="object"&&!Fr.alwaysValidSchema(o,r)){let g=e.name("valid");d.removeAdditional==="failing"?($(E,g,!1),e.if(Pe.not(g),()=>{t.reset(),_(E)})):($(E,g),c||e.if(Pe.not(g),()=>e.break()))}}function $(E,g,C){let te={keyword:"additionalProperties",dataProp:E,dataPropType:Fr.Type.Str};C===!1&&Object.assign(te,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(te,g)}}};is.default=Yd});var ei=b(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});var Zd=Qt(),Yo=_e(),us=V(),Zo=cs(),ef={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:a}=t;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Zo.default.code(new Zd.KeywordCxt(a,Zo.default,"additionalProperties"));let o=Yo.allSchemaProperties(r);for(let y of o)a.definedProperties.add(y);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=us.mergeEvaluated.props(e,us.toHash(o),a.props));let c=o.filter(y=>!us.alwaysValidSchema(a,r[y]));if(c.length===0)return;let d=e.name("valid");for(let y of c)f(y)?h(y):(e.if(Yo.propertyInData(e,s,y,a.opts.ownProperties)),h(y),a.allErrors||e.else().var(d,!0),e.endIf()),t.it.definedProperties.add(y),t.ok(d);function f(y){return a.opts.useDefaults&&!a.compositeRule&&r[y].default!==void 0}function h(y){t.subschema({keyword:"properties",schemaProp:y,dataProp:y},d)}}};ls.default=ef});var si=b(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});var ti=_e(),Ur=j(),ri=V(),ni=V(),tf={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:s,it:a}=t,{opts:o}=a,c=ti.allSchemaProperties(r),d=c.filter($=>ri.alwaysValidSchema(a,r[$]));if(c.length===0||d.length===c.length&&(!a.opts.unevaluated||a.props===!0))return;let f=o.strictSchema&&!o.allowMatchingProperties&&s.properties,h=e.name("valid");a.props!==!0&&!(a.props instanceof Ur.Name)&&(a.props=ni.evaluatedPropsToName(e,a.props));let{props:y}=a;w();function w(){for(let $ of c)f&&_($),a.allErrors?v($):(e.var(h,!0),v($),e.if(h))}function _($){for(let E in f)new RegExp($).test(E)&&ri.checkStrictMode(a,`property ${E} matches pattern ${$} (use allowMatchingProperties)`)}function v($){e.forIn("key",n,E=>{e.if(Ur._`${ti.usePattern(t,$)}.test(${E})`,()=>{let g=d.includes($);g||t.subschema({keyword:"patternProperties",schemaProp:$,dataProp:E,dataPropType:ni.Type.Str},h),a.opts.unevaluated&&y!==!0?e.assign(Ur._`${y}[${E}]`,!0):!g&&!a.allErrors&&e.if(Ur.not(h),()=>e.break())})})}}};ds.default=tf});var ai=b(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});var rf=V(),nf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if(rf.alwaysValidSchema(n,r)){t.fail();return}let s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};fs.default=nf});var oi=b(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var sf=_e(),af={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:sf.validateUnion,error:{message:"must match a schema in anyOf"}};hs.default=af});var ii=b(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});var zr=j(),of=V(),cf={message:"must match exactly one schema in oneOf",params:({params:t})=>zr._`{passingSchemas: ${t.passing}}`},uf={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:cf,code(t){let{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let a=r,o=e.let("valid",!1),c=e.let("passing",null),d=e.name("_valid");t.setParams({passing:c}),e.block(f),t.result(o,()=>t.reset(),()=>t.error(!0));function f(){a.forEach((h,y)=>{let w;of.alwaysValidSchema(s,h)?e.var(d,!0):w=t.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},d),y>0&&e.if(zr._`${d} && ${o}`).assign(o,!1).assign(c,zr._`[${c}, ${y}]`).else(),e.if(d,()=>{e.assign(o,!0),e.assign(c,y),w&&t.mergeEvaluated(w,zr.Name)})})}}};ps.default=uf});var ci=b(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var lf=V(),df={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=e.name("valid");r.forEach((a,o)=>{if(lf.alwaysValidSchema(n,a))return;let c=t.subschema({keyword:"allOf",schemaProp:o},s);t.ok(s),t.mergeEvaluated(c)})}};ms.default=df});var di=b(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var Lr=j(),ui=V(),ff={message:({params:t})=>Lr.str`must match "${t.ifClause}" schema`,params:({params:t})=>Lr._`{failingKeyword: ${t.ifClause}}`},hf={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:ff,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&ui.checkStrictMode(n,'"if" without "then" and "else" is ignored');let s=li(n,"then"),a=li(n,"else");if(!s&&!a)return;let o=e.let("valid",!0),c=e.name("_valid");if(d(),t.reset(),s&&a){let h=e.let("ifClause");t.setParams({ifClause:h}),e.if(c,f("then",h),f("else",h))}else s?e.if(c,f("then")):e.if(Lr.not(c),f("else"));t.pass(o,()=>t.error(!0));function d(){let h=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);t.mergeEvaluated(h)}function f(h,y){return()=>{let w=t.subschema({keyword:h},c);e.assign(o,c),t.mergeValidEvaluated(w,o),y?e.assign(y,Lr._`${h}`):t.setParams({ifClause:h})}}}};function li(t,e){let r=t.schema[e];return r!==void 0&&!ui.alwaysValidSchema(t,r)}ys.default=hf});var fi=b(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});var pf=V(),mf={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&pf.checkStrictMode(r,`"${t}" without "if" is ignored`)}};vs.default=mf});var hi=b(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});var yf=es(),vf=Ko(),gf=ts(),_f=Ho(),$f=Go(),wf=Wo(),Ef=Xo(),Sf=cs(),bf=ei(),Pf=si(),Nf=ai(),Of=oi(),Tf=ii(),Cf=ci(),Rf=di(),If=fi();function jf(t=!1){let e=[Nf.default,Of.default,Tf.default,Cf.default,Rf.default,If.default,Ef.default,Sf.default,wf.default,bf.default,Pf.default];return t?e.push(vf.default,_f.default):e.push(yf.default,gf.default),e.push($f.default),e}gs.default=jf});var pi=b(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});var X=j(),qf={message:({schemaCode:t})=>X.str`must match format "${t}"`,params:({schemaCode:t})=>X._`{format: ${t}}`},kf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:qf,code(t,e){let{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:c}=t,{opts:d,errSchemaPath:f,schemaEnv:h,self:y}=c;if(!d.validateFormats)return;s?w():_();function w(){let v=r.scopeValue("formats",{ref:y.formats,code:d.code.formats}),$=r.const("fDef",X._`${v}[${o}]`),E=r.let("fType"),g=r.let("format");r.if(X._`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(E,X._`${$}.type || "string"`).assign(g,X._`${$}.validate`),()=>r.assign(E,X._`"string"`).assign(g,$)),t.fail$data(X.or(C(),te()));function C(){return d.strictSchema===!1?X.nil:X._`${o} && !${g}`}function te(){let K=h.$async?X._`(${$}.async ? await ${g}(${n}) : ${g}(${n}))`:X._`${g}(${n})`,x=X._`(typeof ${g} == "function" ? ${K} : ${g}.test(${n}))`;return X._`${g} && ${g} !== true && ${E} === ${e} && !${x}`}}function _(){let v=y.formats[a];if(!v){C();return}if(v===!0)return;let[$,E,g]=te(v);$===e&&t.pass(K());function C(){if(d.strictSchema===!1){y.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${a}" ignored in schema at path "${f}"`}}function te(x){let me=x instanceof RegExp?X.regexpCode(x):d.code.formats?X._`${d.code.formats}${X.getProperty(a)}`:void 0,Ne=r.scopeValue("formats",{key:a,ref:x,code:me});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,X._`${Ne}.validate`]:["string",x,Ne]}function K(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!h.$async)throw new Error("async format in sync schema");return X._`await ${g}(${n})`}return typeof E=="function"?X._`${g}(${n})`:X._`${g}.test(${n})`}}}};_s.default=kf});var mi=b($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});var Df=pi(),Af=[Df.default];$s.default=Af});var yi=b(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.contentVocabulary=Rt.metadataVocabulary=void 0;Rt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Rt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var gi=b(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});var Mf=Po(),Vf=Fo(),Ff=hi(),Uf=mi(),vi=yi(),zf=[Mf.default,Vf.default,Ff.default(),Uf.default,vi.metadataVocabulary,vi.contentVocabulary];ws.default=zf});var _i=b(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.DiscrError=void 0;var Lf;(function(t){t.Tag="tag",t.Mapping="mapping"})(Lf=ur.DiscrError||(ur.DiscrError={}))});var $i=b(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});var It=j(),Es=_i(),Kf={message:({params:{discrError:t,tagName:e}})=>t===Es.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>It._`{error: ${t}, tag: ${r}, tagValue: ${e}}`},xf={keyword:"discriminator",type:"object",schemaType:"object",error:Kf,code(t){let{gen:e,data:r,schema:n,parentSchema:s,it:a}=t,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let d=e.let("valid",!1),f=e.const("tag",It._`${r}${It.getProperty(c)}`);e.if(It._`typeof ${f} == "string"`,()=>h(),()=>t.error(!1,{discrError:Es.DiscrError.Tag,tag:f,tagName:c})),t.ok(d);function h(){let _=w();e.if(!1);for(let v in _)e.elseIf(It._`${f} === ${v}`),e.assign(d,y(_[v]));e.else(),t.error(!1,{discrError:Es.DiscrError.Mapping,tag:f,tagName:c}),e.endIf()}function y(_){let v=e.name("valid"),$=t.subschema({keyword:"oneOf",schemaProp:_},v);return t.mergeEvaluated($,It.Name),v}function w(){var _;let v={},$=g(s),E=!0;for(let K=0;K<o.length;K++){let x=o[K],me=(_=x.properties)===null||_===void 0?void 0:_[c];if(typeof me!="object")throw new Error(`discriminator: oneOf schemas must have "properties/${c}"`);E=E&&($||g(x)),C(me,K)}if(!E)throw new Error(`discriminator: "${c}" must be required`);return v;function g({required:K}){return Array.isArray(K)&&K.includes(c)}function C(K,x){if(K.const)te(K.const,x);else if(K.enum)for(let me of K.enum)te(me,x);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function te(K,x){if(typeof K!="string"||K in v)throw new Error(`discriminator: "${c}" values must be unique strings`);v[K]=x}}}};Ss.default=xf});var wi=b((yp,Hf)=>{Hf.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Ps=b((ee,Si)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.CodeGen=ee.Name=ee.nil=ee.stringify=ee.str=ee._=ee.KeywordCxt=void 0;var Gf=_o(),Jf=gi(),Bf=$i(),Ei=wi(),Wf=["/properties"],Kr="http://json-schema.org/draft-07/schema",bs=class extends Gf.default{_addVocabularies(){super._addVocabularies(),Jf.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Bf.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Ei,Wf):Ei;this.addMetaSchema(e,Kr,!1),this.refs["http://json-schema.org/schema"]=Kr}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Kr)?Kr:void 0)}};Si.exports=ee=bs;Object.defineProperty(ee,"__esModule",{value:!0});ee.default=bs;var Qf=Qt();Object.defineProperty(ee,"KeywordCxt",{enumerable:!0,get:function(){return Qf.KeywordCxt}});var jt=j();Object.defineProperty(ee,"_",{enumerable:!0,get:function(){return jt._}});Object.defineProperty(ee,"str",{enumerable:!0,get:function(){return jt.str}});Object.defineProperty(ee,"stringify",{enumerable:!0,get:function(){return jt.stringify}});Object.defineProperty(ee,"nil",{enumerable:!0,get:function(){return jt.nil}});Object.defineProperty(ee,"Name",{enumerable:!0,get:function(){return jt.Name}});Object.defineProperty(ee,"CodeGen",{enumerable:!0,get:function(){return jt.CodeGen}})});var Xf=Ws(Ps()),Yf=Ws(Ps()),{KeywordCxt:vp,CodeGen:gp,Name:_p,nil:$p,stringify:wp,str:Ep,_:Sp}=Xf;var export_default=Yf.default;export{gp as CodeGen,vp as KeywordCxt,_p as Name,Sp as _,export_default as default,$p as nil,Ep as str,wp as stringify};
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */